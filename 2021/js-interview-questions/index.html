<!DOCTYPE html><html lang="en"> <head><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><script type="module" src="/_astro/ClientRouter.astro_astro_type_script_index_0_lang.BScVxmeO.js"></script><!-- Google Tag Manager --><script>(function(){const ga4Id = "G-6QC9CKHCTY";

      (function (w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({ 'gtm.start': new Date().getTime(), event: 'gtm.js' });
        var f = d.getElementsByTagName(s)[0],
          j = d.createElement(s),
          dl = l != 'dataLayer' ? '&l=' + l : '';
        j.async = true;
        j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
        f.parentNode.insertBefore(j, f);
      })(window, document, 'script', 'dataLayer', ga4Id);
    })();</script><!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=GTM-KM9SGJLK">(function(){const gTagId = "GTM-KM9SGJLK";
})();</script><script>(function(){const ga4Id = "G-6QC9CKHCTY";

      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag('js', new Date());
      gtag('config', ga4Id);
    })();</script><!-- Global Metadata --><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ¦Š</text></svg>"><link rel="sitemap" href="/sitemap-index.xml"><meta name="generator" content="Astro v5.1.2"><!-- Primary Meta Tags --><title>ã€ŒJavaScriptåˆç´šé¢è©¦é¡Œç›®ã€ç›¸é—œç­†è¨˜</title><meta name="title" content="ã€ŒJavaScriptåˆç´šé¢è©¦é¡Œç›®ã€ç›¸é—œç­†è¨˜"><meta name="description" content="é€™æ˜¯ä¸€å€‹æ–‡çµ„è½‰è·å‰ç«¯å·¥ç¨‹å¸«çš„æŠ€è¡“éƒ¨è½æ ¼"><!-- Open Graph / Facebook --><meta property="og:type" content="website"><meta property="og:url" content="https://tzynwang.github.io/2021/js-interview-questions"><meta property="og:title" content="ã€ŒJavaScriptåˆç´šé¢è©¦é¡Œç›®ã€ç›¸é—œç­†è¨˜"><meta property="og:description" content="é€™æ˜¯ä¸€å€‹æ–‡çµ„è½‰è·å‰ç«¯å·¥ç¨‹å¸«çš„æŠ€è¡“éƒ¨è½æ ¼"><meta property="og:image" content="https://tzynwang.github.io/alexander-andrews-mEdKuPYJe1I.jpg"><!-- Twitter --><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://tzynwang.github.io/2021/js-interview-questions"><meta property="twitter:title" content="ã€ŒJavaScriptåˆç´šé¢è©¦é¡Œç›®ã€ç›¸é—œç­†è¨˜"><meta property="twitter:description" content="é€™æ˜¯ä¸€å€‹æ–‡çµ„è½‰è·å‰ç«¯å·¥ç¨‹å¸«çš„æŠ€è¡“éƒ¨è½æ ¼"><meta property="twitter:image" content="https://tzynwang.github.io/alexander-andrews-mEdKuPYJe1I.jpg"><!-- Font --><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700&family=Noto+Sans:wght@400;700&display=swap" rel="stylesheet"><style>.tag[data-astro-cid-2iymvi75]{position:relative;display:inline-flex;align-items:center;padding:2px 8px;font-size:14px;font-weight:400;text-decoration:none;background-color:#8aa6a3;color:#fff;transition:background-color .2s ease-in-out}.tag[data-astro-cid-2iymvi75]:not(:last-of-type){margin-right:8px}.tag[data-astro-cid-2iymvi75]:hover{background-color:#127369}
.astro-route-announcer{position:absolute;left:0;top:0;clip:rect(0 0 0 0);clip-path:inset(50%);overflow:hidden;white-space:nowrap;width:1px;height:1px}.footer[data-astro-cid-qlgq3onj]{padding:36px;text-align:center}.bottom[data-astro-cid-qlgq3onj]{position:absolute;bottom:0;left:50%;transform:translate(-50%)}.side-content[data-astro-cid-75hifxor],.main-content[data-astro-cid-75hifxor]{margin:24px}nav[data-astro-cid-75hifxor]{display:flex;gap:16px}@media screen and (min-width: 800px){body{height:100vh;display:flex;flex-direction:row;overflow-y:hidden}nav[data-astro-cid-75hifxor]{flex-direction:column}.side-content[data-astro-cid-75hifxor]{flex:0 0 240px}.main-content[data-astro-cid-75hifxor]{margin:0;padding:40px 24px 0;flex:1 1 auto;overflow-y:auto;position:relative}}*{margin:0;padding:0;box-sizing:content-box;font-family:sans-serif;text-wrap:pretty;color:#000000e6}html{background-color:#bfbfbf66}a{color:#127369;font-weight:700;text-decoration:underline;text-decoration-color:transparent;transition:text-decoration-color .2s ease-in-out}a:hover{text-decoration-color:#127369}a.link-out{position:absolute;inset:0}ul,li{list-style-position:inside}ul:not(:has(li)){margin-top:16px;margin-bottom:16px}li{margin-top:4px;margin-bottom:4px;line-height:24px}li li{padding-left:16px}img{display:block;max-width:100%}h1,h2{font-size:28px;line-height:42px;margin:16px 0;color:#4c5958}h3,h4{font-size:22px;line-height:34px;margin:16px 0;color:#4c5958}h5{font-size:18px;line-height:28px;margin:4px 0;color:#4c5958}p{font-size:16px;line-height:24px;margin:16px 0}p code{font-size:14px}blockquote{padding-left:16px;border-left:4px solid #4c5958}blockquote *{font-family:Noto Sans,sans-serif}pre{padding:8px 16px}code,code span{font-family:monospace}hr{width:100%;height:1px;margin:16px 0;background-color:#4c5958}del{color:#4c5958e6}ol>li:has(p)>p{display:inline;margin:0}
.post-container[data-astro-cid-qtokga5y] h1[data-astro-cid-qtokga5y]{margin:0 0 16px}.info[data-astro-cid-qtokga5y]{display:flex;flex-direction:column;gap:8px}.toc-container[data-astro-cid-qtokga5y]{margin-bottom:0}.toc-container[data-astro-cid-qtokga5y]>li[data-astro-cid-qtokga5y]:not(:last-of-type){margin-bottom:4px}.toc-2[data-astro-cid-qtokga5y]{margin-left:1rem}.toc-3[data-astro-cid-qtokga5y]{margin-left:2rem}.toc-4[data-astro-cid-qtokga5y]{margin-left:3rem}.toc-5[data-astro-cid-qtokga5y]{margin-left:4rem}@media screen and (min-width: 800px){.post-container[data-astro-cid-qtokga5y]{max-width:600px}}@media screen and (min-width: 1200px){.post-container[data-astro-cid-qtokga5y]{max-width:720px}}
[data-astro-image]{width:100%;height:auto;object-fit:var(--fit);object-position:var(--pos);aspect-ratio:var(--w) / var(--h)}[data-astro-image=responsive]{max-width:calc(var(--w) * 1px);max-height:calc(var(--h) * 1px)}[data-astro-image=fixed]{width:calc(var(--w) * 1px);height:calc(var(--h) * 1px)}
</style></head> <body> <!-- Google Tag Manager (noscript) --> <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KM9SGJLK" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript> <!-- End Google Tag Manager (noscript) --> <section class="side-content" data-astro-cid-75hifxor> <h1 data-astro-cid-75hifxor>æ™®é€šæ–‡çµ„ 2.0</h1> <nav data-astro-cid-75hifxor> <a href="/" data-astro-cid-75hifxor>é¦–é </a> <a href="/archive" data-astro-cid-75hifxor>å…¨æ–‡ç« æ­¸æª”</a> <a href="/tag" data-astro-cid-75hifxor>ä»¥æ¨™ç±¤æª¢è¦–</a> <a href="/rss.xml" data-astro-cid-75hifxor>RSS</a> </nav> </section> <section class="main-content" data-astro-cid-75hifxor>   <div class="post-container" data-astro-cid-qtokga5y> <h1 data-astro-cid-qtokga5y>ã€ŒJavaScriptåˆç´šé¢è©¦é¡Œç›®ã€ç›¸é—œç­†è¨˜</h1> <div class="info" data-astro-cid-qtokga5y> <span data-astro-cid-qtokga5y>2021-10-18 13:52</span> <span data-astro-cid-qtokga5y><a class="tag" href="/tag/JavaScript" data-astro-cid-2iymvi75> JavaScript </a> </span> <ul class="toc-container" data-astro-cid-qtokga5y> <li class="toc-2" data-astro-cid-qtokga5y> <a href="#ç¸½çµ" data-astro-cid-qtokga5y>ç¸½çµ</a> </li><li class="toc-2" data-astro-cid-qtokga5y> <a href="#ç¬¬ä¸€é€±é¡Œç›®ä¸²" data-astro-cid-qtokga5y>ç¬¬ä¸€é€±é¡Œç›®ä¸²</a> </li><li class="toc-3" data-astro-cid-qtokga5y> <a href="#varconst-èˆ‡-let-ä¹‹å·®ç•°" data-astro-cid-qtokga5y>varã€const èˆ‡ let ä¹‹å·®ç•°</a> </li><li class="toc-3" data-astro-cid-qtokga5y> <a href="#è«‹èª¿æ•´ä»¥ä¸‹ç¨‹å¼ç¢¼ä½¿å…¶æ¯éš”ä¸€ç§’ä¾åºå°å‡ºæ•¸åˆ—-01234" data-astro-cid-qtokga5y>è«‹èª¿æ•´ä»¥ä¸‹ç¨‹å¼ç¢¼ï¼Œä½¿å…¶æ¯éš”ä¸€ç§’ä¾åºå°å‡ºæ•¸åˆ— 01234</a> </li><li class="toc-3" data-astro-cid-qtokga5y> <a href="#ç¬¬ä¸€é€±ä»¥ä¸‹ç¨‹å¼ç¢¼çš„è¼¸å‡ºçµæœç‚º" data-astro-cid-qtokga5y>ç¬¬ä¸€é€±ï¼šä»¥ä¸‹ç¨‹å¼ç¢¼çš„è¼¸å‡ºçµæœç‚ºï¼Ÿ</a> </li><li class="toc-3" data-astro-cid-qtokga5y> <a href="#consolelog0102--03çš„çµæœæ˜¯ä»€éº¼" data-astro-cid-qtokga5y>console.log((0.1+0.2) === 0.3)çš„çµæœæ˜¯ä»€éº¼ï¼Ÿ</a> </li><li class="toc-3" data-astro-cid-qtokga5y> <a href="#ä»€éº¼æ˜¯-hoist" data-astro-cid-qtokga5y>ä»€éº¼æ˜¯ hoistï¼Ÿ</a> </li><li class="toc-3" data-astro-cid-qtokga5y> <a href="#undefinednull-èˆ‡-not-defined-ä¹‹å·®ç•°" data-astro-cid-qtokga5y>undefinedã€null èˆ‡ not defined ä¹‹å·®ç•°ï¼Ÿ</a> </li><li class="toc-3" data-astro-cid-qtokga5y> <a href="#ä»¥ä¸‹å…©ç¨®å®£å‘Šå‡½æ•¸çš„æ–¹å¼æœ‰ä½•å·®ç•°" data-astro-cid-qtokga5y>ä»¥ä¸‹å…©ç¨®å®£å‘Šå‡½æ•¸çš„æ–¹å¼æœ‰ä½•å·®ç•°ï¼Ÿ</a> </li><li class="toc-3" data-astro-cid-qtokga5y> <a href="#è«‹åˆ—å‡ºä»¥ä¸‹è¼¸å‡ºçµæœ" data-astro-cid-qtokga5y>è«‹åˆ—å‡ºä»¥ä¸‹è¼¸å‡ºçµæœ</a> </li><li class="toc-3" data-astro-cid-qtokga5y> <a href="#ä½•è¬‚-iife" data-astro-cid-qtokga5y>ä½•è¬‚ IIFE</a> </li><li class="toc-2" data-astro-cid-qtokga5y> <a href="#ç¬¬äºŒé€±é¡Œç›®ä¸²" data-astro-cid-qtokga5y>ç¬¬äºŒé€±é¡Œç›®ä¸²</a> </li><li class="toc-3" data-astro-cid-qtokga5y> <a href="#ä½•è¬‚é–‰åŒ…closure" data-astro-cid-qtokga5y>ä½•è¬‚é–‰åŒ…ï¼ˆclosureï¼‰</a> </li><li class="toc-3" data-astro-cid-qtokga5y> <a href="#å¯«å‡ºä¸€å‡½æ•¸ä½¿-consolelogmul234ç‚º-24consolelogmul434ç‚º-48" data-astro-cid-qtokga5y>å¯«å‡ºä¸€å‡½æ•¸ï¼Œä½¿ console.log(mul(2)(3)(4))ç‚º 24ï¼Œconsole.log(mul(4)(3)(4))ç‚º 48</a> </li><li class="toc-3" data-astro-cid-qtokga5y> <a href="#å¦‚ä½•æª¢æŸ¥ä¸€å€‹è®Šæ•¸çš„å‹åˆ¥" data-astro-cid-qtokga5y>å¦‚ä½•æª¢æŸ¥ä¸€å€‹è®Šæ•¸çš„å‹åˆ¥ï¼Ÿ</a> </li><li class="toc-3" data-astro-cid-qtokga5y> <a href="#call-by-reference-èˆ‡-call-by-value-ä¹‹å·®ç•°" data-astro-cid-qtokga5y>call by reference èˆ‡ call by value ä¹‹å·®ç•°</a> </li><li class="toc-3" data-astro-cid-qtokga5y> <a href="#å¦‚ä½•æ‹·è²ä¸€å€‹é™£åˆ—æˆ–ç‰©ä»¶" data-astro-cid-qtokga5y>å¦‚ä½•æ‹·è²ä¸€å€‹é™£åˆ—æˆ–ç‰©ä»¶</a> </li><li class="toc-3" data-astro-cid-qtokga5y> <a href="#è«‹å›ç­”ä»¥ä¸‹ç¨‹å¼ç¢¼è¼¸å‡ºçµæœ" data-astro-cid-qtokga5y>è«‹å›ç­”ä»¥ä¸‹ç¨‹å¼ç¢¼è¼¸å‡ºçµæœ</a> </li><li class="toc-3" data-astro-cid-qtokga5y> <a href="#ä»€éº¼æ˜¯-this" data-astro-cid-qtokga5y>ä»€éº¼æ˜¯ this</a> </li><li class="toc-3" data-astro-cid-qtokga5y> <a href="#applybindèˆ‡-callçš„å·®ç•°" data-astro-cid-qtokga5y>apply()ã€bind()èˆ‡ call()çš„å·®ç•°</a> </li><li class="toc-2" data-astro-cid-qtokga5y> <a href="#ç¬¬ä¸‰é€±é¡Œç›®ä¸²" data-astro-cid-qtokga5y>ç¬¬ä¸‰é€±é¡Œç›®ä¸²</a> </li><li class="toc-3" data-astro-cid-qtokga5y> <a href="#ç¬¬ä¸‰é€±ä»¥ä¸‹ç¨‹å¼ç¢¼çš„è¼¸å‡ºçµæœç‚º" data-astro-cid-qtokga5y>ç¬¬ä¸‰é€±ï¼šä»¥ä¸‹ç¨‹å¼ç¢¼çš„è¼¸å‡ºçµæœç‚ºï¼Ÿ</a> </li><li class="toc-3" data-astro-cid-qtokga5y> <a href="#ç®­é ­å‡½æ•¸çš„ç‰¹æ€§" data-astro-cid-qtokga5y>ç®­é ­å‡½æ•¸çš„ç‰¹æ€§</a> </li><li class="toc-3" data-astro-cid-qtokga5y> <a href="#consolelog0--1--1--2çš„è¼¸å‡ºçµæœç‚ºä½•" data-astro-cid-qtokga5y>console.log(0 &amp;&amp; 1 || 1 &amp;&amp; 2)çš„è¼¸å‡ºçµæœç‚ºä½•</a> </li><li class="toc-3" data-astro-cid-qtokga5y> <a href="#js-å¦‚ä½•è™•ç†éåŒæ­¥" data-astro-cid-qtokga5y>JS å¦‚ä½•è™•ç†éåŒæ­¥ï¼Ÿ</a> </li><li class="toc-3" data-astro-cid-qtokga5y> <a href="#ä»€éº¼æ˜¯-promise" data-astro-cid-qtokga5y>ä»€éº¼æ˜¯ promiseï¼Ÿ</a> </li><li class="toc-3" data-astro-cid-qtokga5y> <a href="#ä»¥ä¸‹ç¨‹å¼ç¢¼çš„è¼¸å‡ºçµæœç‚ºä½•" data-astro-cid-qtokga5y>ä»¥ä¸‹ç¨‹å¼ç¢¼çš„è¼¸å‡ºçµæœç‚ºä½•ï¼Ÿ</a> </li><li class="toc-4" data-astro-cid-qtokga5y> <a href="#ç¬¬ä¸€é¡Œ" data-astro-cid-qtokga5y>ç¬¬ä¸€é¡Œ</a> </li><li class="toc-4" data-astro-cid-qtokga5y> <a href="#ç¬¬äºŒé¡Œ" data-astro-cid-qtokga5y>ç¬¬äºŒé¡Œ</a> </li><li class="toc-4" data-astro-cid-qtokga5y> <a href="#ç¬¬ä¸‰é¡Œ" data-astro-cid-qtokga5y>ç¬¬ä¸‰é¡Œ</a> </li><li class="toc-4" data-astro-cid-qtokga5y> <a href="#ç¬¬å››é¡Œ" data-astro-cid-qtokga5y>ç¬¬å››é¡Œ</a> </li><li class="toc-2" data-astro-cid-qtokga5y> <a href="#åƒè€ƒæ–‡ä»¶" data-astro-cid-qtokga5y>åƒè€ƒæ–‡ä»¶</a> </li> </ul> </div> <h2 id="ç¸½çµ">ç¸½çµ</h2>
<p>æ•´ç†äº†ä»Šå¹´ 7 æœˆåƒåŠ çš„ JS æ¨¡æ“¬é¢è©¦ä¹‹é¡Œç›®èˆ‡ç›¸é—œç­†è¨˜ã€‚
æ„Ÿè¬<a href="https://eruditeness.news.blog/">ä¸¹å°¼å“¥</a>ç„¡å„Ÿå‡ºå€Ÿæ™‚é–“é™ªå¤§å®¶ç·´ç¿’ã€‚</p>
<p>ç¬¬ä¸€é€±æ‘˜è¦ï¼šscopeã€æµ®é»æ•¸é™·é˜±ã€hoistã€å¼·åˆ¶è½‰å‹ã€null vs undefinedã€IIFE
ç¬¬äºŒé€±æ‘˜è¦ï¼šclosureã€è®Šæ•¸å‹åˆ¥ã€by value &#x26; by referenceã€æ·±æ·ºæ‹·è²ã€this
ç¬¬ä¸‰é€±æ‘˜è¦ï¼šç®­é ­å‡½æ•¸ã€é‹ç®—å­ã€event loopã€promiseã€micro task vs macro task</p>
<h2 id="ç¬¬ä¸€é€±é¡Œç›®ä¸²">ç¬¬ä¸€é€±é¡Œç›®ä¸²</h2>
<h3 id="varconst-èˆ‡-let-ä¹‹å·®ç•°">varã€const èˆ‡ let ä¹‹å·®ç•°</h3>
<ul>
<li><code>var</code> ç‚º functional scopeï¼Œè€Œ <code>let</code> èˆ‡ <code>const</code> ç‚º block scope</li>
</ul>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#6A737D">// functional scope</span></span>
<span class="line"><span style="color:#E1E4E8">(() </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">  {</span></span>
<span class="line"><span style="color:#F97583">    var</span><span style="color:#E1E4E8"> s </span><span style="color:#F97583">=</span><span style="color:#9ECBFF"> 'hello world'</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">  console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(s);</span></span>
<span class="line"><span style="color:#E1E4E8">})();</span></span>
<span class="line"><span style="color:#6A737D">// 'hello world'</span></span></code></pre>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#6A737D">// block scope</span></span>
<span class="line"><span style="color:#E1E4E8">(() </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">  {</span></span>
<span class="line"><span style="color:#F97583">    let</span><span style="color:#E1E4E8"> s </span><span style="color:#F97583">=</span><span style="color:#9ECBFF"> 'hello world'</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">  console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(s);</span></span>
<span class="line"><span style="color:#E1E4E8">})();</span></span>
<span class="line"><span style="color:#6A737D">// Uncaught ReferenceError: s is not defined</span></span></code></pre>
<ul>
<li>é€é <code>var</code> èˆ‡ <code>let</code> å®£å‘Šçš„è®Šæ•¸å¯ä»¥é‡æ–°è³¦å€¼ï¼ˆvalue can be reassignedï¼‰ï¼Œè€Œé€é <code>const</code> å®£å‘Šçš„è®Šæ•¸ä¸å¯</li>
<li>é€éä¸‰ç¨®æ–¹æ³•å®£å‘Šçš„è®Šæ•¸éƒ½æœƒåœ¨ creation phase è¢« hoistï¼Œä½†æ˜¯åªæœ‰é€é <code>var</code> å®£å‘Šçš„è®Šæ•¸å¯ä»¥å…ˆè¢«å–å¾—ï¼ˆcan be accessed before createdï¼‰ï¼Œä¸¦å–å¾—çš„å€¼æœƒæ˜¯ <code>undefined</code></li>
</ul>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#E1E4E8">console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(a); </span><span style="color:#6A737D">// Uncaught ReferenceError: b is not defined</span></span>
<span class="line"><span style="color:#F97583">let</span><span style="color:#E1E4E8"> a </span><span style="color:#F97583">=</span><span style="color:#9ECBFF"> 'hello world'</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(b); </span><span style="color:#6A737D">// undefined</span></span>
<span class="line"><span style="color:#F97583">var</span><span style="color:#E1E4E8"> b </span><span style="color:#F97583">=</span><span style="color:#9ECBFF"> 'hello world'</span><span style="color:#E1E4E8">;</span></span></code></pre>
<h3 id="è«‹èª¿æ•´ä»¥ä¸‹ç¨‹å¼ç¢¼ä½¿å…¶æ¯éš”ä¸€ç§’ä¾åºå°å‡ºæ•¸åˆ—-01234">è«‹èª¿æ•´ä»¥ä¸‹ç¨‹å¼ç¢¼ï¼Œä½¿å…¶æ¯éš”ä¸€ç§’ä¾åºå°å‡ºæ•¸åˆ— 01234</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#E1E4E8">(() </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">  for</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">var</span><span style="color:#E1E4E8"> i </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">; i </span><span style="color:#F97583">&#x3C;</span><span style="color:#79B8FF"> 5</span><span style="color:#E1E4E8">; i</span><span style="color:#F97583">++</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#B392F0">    setTimeout</span><span style="color:#E1E4E8">(() </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">      console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(i);</span></span>
<span class="line"><span style="color:#E1E4E8">    }, </span><span style="color:#79B8FF">1000</span><span style="color:#F97583"> *</span><span style="color:#E1E4E8"> i);</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">})();</span></span></code></pre>
<ul>
<li>å°‡ <code>var</code> æ”¹ç‚º <code>let</code>ï¼Œå›  <code>var</code> ç‚º functional scopeï¼Œè€Œäº”çµ„ console.log åœ¨ event loop çš„ queue ä¸­ç­‰åˆ° stack æ¸…ç©ºå¾Œï¼Œ<code>i</code> å·²ç¶“ç‚º 5ï¼Œæ•…åªæœƒæ¯éš”ä¸€ç§’å°å‡º 5ï¼›æ”¹ç‚ºä½¿ç”¨ <code>let</code> å®£å‘Š block scope çš„è®Šæ•¸å¾Œï¼Œå³å¯è¼¸å‡ºå€¼åˆ†åˆ¥ç‚º 01234 çš„çµæœ</li>
<li>ä½¿ç”¨ IIFE æ¦‚å¿µæ”¹å¯«ï¼Œå¦‚ä¸‹ï¼š</li>
</ul>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#E1E4E8">(() </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">  for</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">var</span><span style="color:#E1E4E8"> i </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">; i </span><span style="color:#F97583">&#x3C;</span><span style="color:#79B8FF"> 5</span><span style="color:#E1E4E8">; i</span><span style="color:#F97583">++</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#B392F0">    setTimeout</span><span style="color:#E1E4E8">(</span></span>
<span class="line"><span style="color:#E1E4E8">      ((</span><span style="color:#FFAB70">i</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">        return</span><span style="color:#E1E4E8"> () </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">          console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(i);</span></span>
<span class="line"><span style="color:#E1E4E8">        };</span></span>
<span class="line"><span style="color:#E1E4E8">      })(i),</span></span>
<span class="line"><span style="color:#79B8FF">      1000</span><span style="color:#F97583"> *</span><span style="color:#E1E4E8"> i</span></span>
<span class="line"><span style="color:#E1E4E8">    );</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">})();</span></span></code></pre>
<h3 id="ç¬¬ä¸€é€±ä»¥ä¸‹ç¨‹å¼ç¢¼çš„è¼¸å‡ºçµæœç‚º">ç¬¬ä¸€é€±ï¼šä»¥ä¸‹ç¨‹å¼ç¢¼çš„è¼¸å‡ºçµæœç‚ºï¼Ÿ</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#E1E4E8">{</span></span>
<span class="line"><span style="color:#E1E4E8">  (</span><span style="color:#F97583">function</span><span style="color:#E1E4E8"> () {</span></span>
<span class="line"><span style="color:#F97583">    var</span><span style="color:#E1E4E8"> a </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> (b </span><span style="color:#F97583">=</span><span style="color:#9ECBFF"> 'hello world'</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">  })();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">  console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">`a defined? ${</span><span style="color:#F97583">typeof</span><span style="color:#E1E4E8"> a</span><span style="color:#F97583"> !==</span><span style="color:#9ECBFF"> 'undefined'}`</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">  console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">`b defined? ${</span><span style="color:#F97583">typeof</span><span style="color:#E1E4E8"> b</span><span style="color:#F97583"> !==</span><span style="color:#9ECBFF"> 'undefined'}`</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<ul>
<li>åˆ†åˆ¥ç‚º<code>false</code>èˆ‡<code>true</code>ï¼Œa ç‚º<code>undefined</code>è€Œ b ç‚º<code>hello world</code></li>
<li>å¯¦éš›ç™¼ç”Ÿçš„äº‹æƒ…å¦‚ä¸‹ï¼šb è¢«å®£å‘Šç‚ºå…¨åŸŸè®Šæ•¸ï¼Œa çš„ä½œç”¨ç¯„åœå‰‡æ˜¯åŒ¿åå‡½æ•¸å…§ï¼ˆfunctional scopeï¼‰ï¼›IIFE åŸ·è¡Œå®Œç•¢å¾Œï¼Œåœ¨ function å¤–ç„¡æ³•å–å¾— aï¼Œä½†å¯å–å¾—å…¨åŸŸè®Šæ•¸ b</li>
</ul>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#E1E4E8">{</span></span>
<span class="line"><span style="color:#E1E4E8">  (</span><span style="color:#F97583">function</span><span style="color:#E1E4E8"> () {</span></span>
<span class="line"><span style="color:#E1E4E8">    b </span><span style="color:#F97583">=</span><span style="color:#9ECBFF"> 'hello world'</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">    var</span><span style="color:#E1E4E8"> a </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> b;</span></span>
<span class="line"><span style="color:#E1E4E8">  })();</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<p>å‚™è¨»ï¼š<code>typeof</code>å¯è™•ç†æœªè¢«å®šç¾©çš„ï¼ˆvarï¼‰è®Šæ•¸è€Œä¸æœƒå ±éŒ¯ï¼Œåƒè€ƒ MDNï¼š</p>
<blockquote>
<p>Before ECMAScript 2015, <code>typeof</code> was always guaranteed to return a string for any operand it was supplied with. Even with undeclared identifiers, <code>typeof</code> will return <code>undefined</code>. Using typeof could never generate an error.
However, with the addition of block-scoped <code>let</code> and <code>const</code>, using <code>typeof</code> on <code>let</code> and <code>const</code> variables (or using <code>typeof</code> on a <code>class</code>) <strong>in a block before they are declared will throw a <code>ReferenceError</code></strong>. Block scoped variables are in a â€œ<strong>temporal dead zone</strong>â€ from the start of the block until the initialization is processed, during which, it will throw an error if accessed.</p>
</blockquote>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#F97583">typeof</span><span style="color:#E1E4E8"> aLet;</span></span>
<span class="line"><span style="color:#F97583">let</span><span style="color:#E1E4E8"> aLet;</span></span>
<span class="line"><span style="color:#6A737D">// Uncaught ReferenceError: Cannot access 'aLet' before initialization</span></span></code></pre>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#F97583">typeof</span><span style="color:#E1E4E8"> aConst;</span></span>
<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> aConst</span><span style="color:#F97583"> =</span><span style="color:#9ECBFF"> 'hello world'</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#6A737D">// Uncaught ReferenceError: Cannot access 'aConst' before initialization</span></span></code></pre>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#F97583">typeof</span><span style="color:#E1E4E8"> aConst2</span></span>
<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> aConst2</span></span>
<span class="line"><span style="color:#6A737D">// Uncaught SyntaxError: Missing initializer in const declaration</span></span></code></pre>
<h3 id="consolelog0102--03çš„çµæœæ˜¯ä»€éº¼">console.log((0.1+0.2) === 0.3)çš„çµæœæ˜¯ä»€éº¼ï¼Ÿ</h3>
<ul>
<li>false</li>
<li>é›–ç„¶äººçœ¼çœ‹åˆ°çš„æ˜¯ 0.1ã€0.2 èˆ‡ 0.3ï¼Œä½†å› ç‚ºè¨ˆç®—æ©Ÿæ˜¯äºŒé€²ä½åˆ¶ï¼Œæ‰€ä»¥å¯¦éš›ä¸Šå°æ•¸é»å¾Œé¢ï¼ˆäººçœ¼çœ‹ä¸åˆ°çš„åœ°æ–¹ï¼‰æœƒæœ‰èª¤å·®ï¼Œ0.1 åŠ ä¸Š 0.2 ä¹‹å¾Œä¸æœƒã€Œå‰›å¥½ã€ç­‰æ–¼ 0.3ï¼Œæ•…çµæœæœƒæ˜¯ false</li>
</ul>
<p>è§£æ±ºæ–¹å¼ï¼šå¯ä»¥å…ˆï¼ˆä¹˜ä»¥ 10ï¼‰è®Šç‚ºæ•´æ•¸å¾Œå†é€²è¡Œé‹ç®—ï¼ˆç›´æ¥é¿å…ä½¿ç”¨æµ®é»æ•¸åšé‹ç®—ï¼‰</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#E1E4E8">console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">((</span><span style="color:#79B8FF">0.1</span><span style="color:#F97583"> *</span><span style="color:#79B8FF"> 10</span><span style="color:#F97583"> +</span><span style="color:#79B8FF"> 0.2</span><span style="color:#F97583"> *</span><span style="color:#79B8FF"> 10</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">/</span><span style="color:#79B8FF"> 10</span><span style="color:#F97583"> ===</span><span style="color:#79B8FF"> 0.3</span><span style="color:#E1E4E8">); </span><span style="color:#6A737D">// true</span></span></code></pre>
<p>æˆ–æ˜¯é‹ç®—å®Œç•¢å¾Œä½¿ç”¨ <code>.toPrecision(1)</code> è®“çµæœç‚ºå°æ•¸é»å¾Œä¸€ä½ï¼Œå†ä½¿ç”¨ <code>parseFloat()</code> å°‡å‹åˆ¥è½‰å› <code>Number</code></p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#E1E4E8">console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">parseFloat</span><span style="color:#E1E4E8">((</span><span style="color:#79B8FF">0.1</span><span style="color:#F97583"> +</span><span style="color:#79B8FF"> 0.2</span><span style="color:#E1E4E8">).</span><span style="color:#B392F0">toPrecision</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">)) </span><span style="color:#F97583">===</span><span style="color:#79B8FF"> 0.3</span><span style="color:#E1E4E8">); </span><span style="color:#6A737D">// true</span></span></code></pre>
<p>æˆ–æ˜¯ä½¿ç”¨ç¾æœ‰çš„å¥—ä»¶ï¼Œæ¯”å¦‚<a href="https://www.npmjs.com/package/mathjs">mathjs</a></p>
<h3 id="ä»€éº¼æ˜¯-hoist">ä»€éº¼æ˜¯ hoistï¼Ÿ</h3>
<ul>
<li>JavaScript engine åœ¨ creation phase è§£æç¨‹å¼ç¢¼æ™‚ï¼Œå¾ä¸Šåˆ°ä¸‹å°‡ç¨‹å¼ç¢¼ä¸­æ‰€æœ‰çš„å‡½æ•¸èˆ‡è®Šæ•¸æ”¾é€²è¨˜æ†¶é«”ï¼ˆallocate in memory spaceï¼‰çš„éç¨‹</li>
<li>é€é var å®£å‘Šçš„è®Šæ•¸åœ¨ hoisting éšæ®µæœƒè¢«è³¦äºˆå€¼ <code>undefined</code>ï¼Œä¸¦ä¸”å¯ä»¥åœ¨å®£å‘Šå‰å°±è¢«å–ç”¨ï¼›è€Œé€é <code>const</code> èˆ‡ <code>let</code> å®£å‘Šçš„è®Šæ•¸è¦åœ¨ã€Œè¢«åŸ·è¡Œåˆ°çš„æ™‚å€™ã€æ‰æœƒè¢«è³¦å€¼ï¼Œä¸¦ä¸”ç„¡æ³•åœ¨è¢«åŸ·è¡Œä¹‹å‰å–ç”¨ï¼ˆTemporal Dead Zoneï¼‰</li>
</ul>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#E1E4E8">console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(v); </span><span style="color:#6A737D">// è¼¸å‡ºundefinedï¼Œä¸æœƒå ±éŒ¯</span></span>
<span class="line"><span style="color:#F97583">var</span><span style="color:#E1E4E8"> v </span><span style="color:#F97583">=</span><span style="color:#9ECBFF"> 'hello world'</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(c); </span><span style="color:#6A737D">// Uncaught ReferenceError: c is not defined</span></span>
<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> c</span><span style="color:#F97583"> =</span><span style="color:#9ECBFF"> 'hello again'</span><span style="color:#E1E4E8">;</span></span></code></pre>
<p>å‚™è¨»ï¼šåƒè€ƒ MDNï¼Œå„å®¶ç€è¦½å™¨çš„éŒ¯èª¤è¨Šæ¯æœ‰æ‰€å·®ç•°ï¼›åˆ†åˆ¥æ˜¯ <code>ReferenceError: Cannot access 'c' before initialization (Edge)</code>ã€<code>ReferenceError: can't access lexical declaration 'c' before initialization (Firefox)</code> èˆ‡ <code>ReferenceError: 'c' is not defined (Chrome)</code></p>
<h3 id="undefinednull-èˆ‡-not-defined-ä¹‹å·®ç•°">undefinedã€null èˆ‡ not defined ä¹‹å·®ç•°ï¼Ÿ</h3>
<ul>
<li><code>undefined</code>ï¼šç”± JS engine è³¦äºˆï¼Œåœ¨ var æˆ– let è®Šæ•¸å·²ç¶“è¢«å®£å‘Šä½†é‚„æ²’æœ‰å€¼çš„æ™‚å€™ï¼Œå…ˆè³¦<code>undefined</code>äºˆé€éé€™å…©å€‹é—œéµå­—å®£å‘Šçš„è®Šæ•¸</li>
<li><code>null</code>ï¼šä»£è¡¨ã€Œç©ºã€ä»€éº¼éƒ½æ²’æœ‰ã€çš„å€¼</li>
<li><code>not defined</code>ï¼šæ ¹æœ¬ã€Œæ²’æœ‰è¢«å®šç¾©ã€</li>
</ul>
<h3 id="ä»¥ä¸‹å…©ç¨®å®£å‘Šå‡½æ•¸çš„æ–¹å¼æœ‰ä½•å·®ç•°">ä»¥ä¸‹å…©ç¨®å®£å‘Šå‡½æ•¸çš„æ–¹å¼æœ‰ä½•å·®ç•°ï¼Ÿ</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#E1E4E8">console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">bar</span><span style="color:#E1E4E8">());</span></span>
<span class="line"><span style="color:#E1E4E8">console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">foo</span><span style="color:#E1E4E8">());</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> bar</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#F97583">  return</span><span style="color:#9ECBFF"> 'bar'</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">var</span><span style="color:#B392F0"> foo</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> () </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">  return</span><span style="color:#9ECBFF"> 'foo'</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span></code></pre>
<ul>
<li>åˆ†åˆ¥æœƒè¼¸å‡º<code>bar</code>èˆ‡å ±éŒ¯<code>TypeError: foo is not a function</code></li>
<li>å„²å­˜ function express çš„è®Šæ•¸<code>foo</code>åœ¨ hoisting éšæ®µå…¶å€¼æœƒæ˜¯<code>undefined</code>ï¼Œè€Œ<code>undefined</code>ç„¡æ³•è¢«èª¿ç”¨ï¼ˆinvokedï¼‰ï¼Œæ‰€ä»¥æœƒå‡ºç¾ TypeError</li>
<li>function statement åœ¨ creation phase ç¶“ hoisting å¾Œå…¶ code éƒ¨åˆ†å°±è¢«ä¿å­˜åœ¨ JS engine çš„è¨˜æ†¶é«”ä¸­ï¼Œå¯ä»¥åœ¨ç¨‹å¼ç¢¼åŸ·è¡Œåˆ°è©²å…§å®¹å‰å°±è¢«èª¿ç”¨</li>
</ul>
<h3 id="è«‹åˆ—å‡ºä»¥ä¸‹è¼¸å‡ºçµæœ">è«‹åˆ—å‡ºä»¥ä¸‹è¼¸å‡ºçµæœ</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#F97583">let</span><span style="color:#E1E4E8"> bar </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> true</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(bar </span><span style="color:#F97583">+</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(bar </span><span style="color:#F97583">+</span><span style="color:#9ECBFF"> 'hello world'</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(bar </span><span style="color:#F97583">+</span><span style="color:#79B8FF"> true</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(bar </span><span style="color:#F97583">+</span><span style="color:#79B8FF"> false</span><span style="color:#E1E4E8">);</span></span></code></pre>
<ul>
<li>å¼·åˆ¶è½‰å‹æ¦‚å¿µé¡Œï¼Œè¼¸å‡ºçµæœç”±ä¸Šåˆ°ä¸‹åˆ†åˆ¥ç‚º 1ã€truehello worldã€2 èˆ‡ 1</li>
<li>è‹¥åŠ è™Ÿå…©å´çš†ç‚º primitive type ä¸”æœ‰å­—ä¸²å‹åˆ¥ï¼ˆ<code>string</code>ï¼‰çš„æƒ…æ³ä¸‹ï¼Œå…©é‚Šçš†è½‰å‹ç‚ºå­—ä¸²ï¼›ä¸ç¬¦åˆå‰è¿°æ¢ä»¶çš„è©±è½‰æ•¸å­—ï¼ˆ<code>number</code>ï¼‰</li>
</ul>
<p>åƒè€ƒ MDN ç¯„ä¾‹ï¼š</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#6A737D">// String + String -> concatenation</span></span>
<span class="line"><span style="color:#9ECBFF">'foo'</span><span style="color:#F97583"> +</span><span style="color:#9ECBFF"> 'bar'</span><span style="color:#E1E4E8">; </span><span style="color:#6A737D">// "foobar"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">// Number + String -> concatenation</span></span>
<span class="line"><span style="color:#79B8FF">5</span><span style="color:#F97583"> +</span><span style="color:#9ECBFF"> 'foo'</span><span style="color:#E1E4E8">; </span><span style="color:#6A737D">// "5foo"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">// String + Boolean -> concatenation</span></span>
<span class="line"><span style="color:#9ECBFF">'foo'</span><span style="color:#F97583"> +</span><span style="color:#79B8FF"> false</span><span style="color:#E1E4E8">; </span><span style="color:#6A737D">// "foofalse"</span></span></code></pre>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#6A737D">// Number + Number -> addition</span></span>
<span class="line"><span style="color:#79B8FF">1</span><span style="color:#F97583"> +</span><span style="color:#79B8FF"> 2</span><span style="color:#E1E4E8">; </span><span style="color:#6A737D">// 3</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">// Boolean + Number -> addition</span></span>
<span class="line"><span style="color:#79B8FF">true</span><span style="color:#F97583"> +</span><span style="color:#79B8FF"> 1</span><span style="color:#E1E4E8">; </span><span style="color:#6A737D">// 2</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">// Boolean + Boolean -> addition</span></span>
<span class="line"><span style="color:#79B8FF">false</span><span style="color:#F97583"> +</span><span style="color:#79B8FF"> false</span><span style="color:#E1E4E8">; </span><span style="color:#6A737D">// 0</span></span></code></pre>
<p>è½‰å‹æˆ <code>string</code> å°±å·¦å³ä¸²é€£èµ·ä¾†ï¼Œå¦‚æœæ˜¯ <code>number</code> å°±å·¦å³ç›¸åŠ ã€‚</p>
<p>å‚™è¨»ï¼šif statementã€while statement èˆ‡ <code>==</code> ä¹Ÿæœƒè§¸ç™¼éš±æ€§çš„å¼·åˆ¶è½‰å‹ï¼Œä¹Ÿå¯æœ‰ä»¥ä¸‹æ“ä½œï¼š</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#F97583">let</span><span style="color:#E1E4E8"> n </span><span style="color:#F97583">=</span><span style="color:#9ECBFF"> '123'</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">typeof</span><span style="color:#F97583"> +</span><span style="color:#E1E4E8">n); </span><span style="color:#6A737D">// number</span></span></code></pre>
<h3 id="ä½•è¬‚-iife">ä½•è¬‚ IIFE</h3>
<ul>
<li>ç«‹å³åŸ·è¡Œå‡½æ•¸ï¼ˆImmediately Invoked Function Expressionï¼‰ï¼Œä½¿ç”¨æ‹¬è™ŸåŒ…è£¹ä¸€å‡½æ•¸ä¸¦åœ¨å…¶å¾ŒåŠ ä¸Šå¦ä¸€çµ„æ‹¬è™Ÿï¼›å¦‚å…¶åç¨±æ‰€è¡¨ç¤ºï¼Œæœƒã€Œç«‹å³ã€åŸ·è¡Œæ‹¬è™Ÿä¸­çš„å‡½æ•¸</li>
</ul>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#E1E4E8">(() </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">  console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'hello world'</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">})();</span></span>
<span class="line"><span style="color:#6A737D">// æœƒç›´æ¥è¼¸å‡º'hello world'</span></span></code></pre>
<ul>
<li>å¯é€é IIFE é™åˆ¶è®Šæ•¸çš„å­˜æ´»ç¯„åœï¼ˆexecution context çµæŸï¼Œè®Šæ•¸è·Ÿè‘—é€²å›æ”¶å€ï¼‰ï¼Œé¿å…è®Šæ•¸æ±¡æŸ“çš„å•é¡Œ</li>
</ul>
<h2 id="ç¬¬äºŒé€±é¡Œç›®ä¸²">ç¬¬äºŒé€±é¡Œç›®ä¸²</h2>
<h3 id="ä½•è¬‚é–‰åŒ…closure">ä½•è¬‚é–‰åŒ…ï¼ˆclosureï¼‰</h3>
<ul>
<li>ä»£è¡¨å‡½æ•¸æœ¬èº«ï¼Œä»¥åŠä»–ç•¶æ™‚ reference åˆ°çš„ä½œç”¨ç’°å¢ƒ</li>
<li>å³ä½¿è©²å‡½æ•¸å·²ç¶“åŸ·è¡Œå®Œç•¢ï¼Œä¾å­˜è©²å‡½æ•¸çš„è®Šæ•¸ä¾èˆŠå¯ä»¥è¢«å–ç”¨ï¼ˆé€é scope æ¦‚å¿µï¼Œç¾åœ¨çš„ç’°å¢ƒæ‰¾ä¸åˆ°ï¼Œå°±å¾€å¤–å±¤æ‰¾ï¼‰</li>
<li>é–‰åŒ…å„²å­˜çš„ä½ç½®æ˜¯ heep memory</li>
</ul>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#6A737D">// ç¶“å…¸ç¯„ä¾‹ï¼šfunction return function</span></span>
<span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> add</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">a</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">  return</span><span style="color:#F97583"> function</span><span style="color:#E1E4E8"> (</span><span style="color:#FFAB70">b</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#E1E4E8"> a </span><span style="color:#F97583">+</span><span style="color:#E1E4E8"> b;</span></span>
<span class="line"><span style="color:#E1E4E8">  };</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> addFunction</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> add</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">3</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">addFunction</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">4</span><span style="color:#E1E4E8">)); </span><span style="color:#6A737D">// 7</span></span></code></pre>
<p>éœ€æ³¨æ„é–‰åŒ…ä½¿ç”¨éåº¦æœƒæœ‰ memory leak çš„å•é¡Œï¼Œå› ç‚º JS å¼•æ“ä¸æœƒä¸»å‹•è™•ç†æ‰é–‰åŒ…</p>
<h3 id="å¯«å‡ºä¸€å‡½æ•¸ä½¿-consolelogmul234ç‚º-24consolelogmul434ç‚º-48">å¯«å‡ºä¸€å‡½æ•¸ï¼Œä½¿ console.log(mul(2)(3)(4))ç‚º 24ï¼Œconsole.log(mul(4)(3)(4))ç‚º 48</h3>
<p>è§£æ³•å¦‚ä¸‹ï¼Œclosure èˆ‡ scope æ¦‚å¿µçš„æ‡‰ç”¨ï¼š</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#F97583">const</span><span style="color:#B392F0"> mul</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> (</span><span style="color:#FFAB70">a</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> (</span><span style="color:#FFAB70">b</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> (</span><span style="color:#FFAB70">c</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> a </span><span style="color:#F97583">*</span><span style="color:#E1E4E8"> b </span><span style="color:#F97583">*</span><span style="color:#E1E4E8"> c;</span></span>
<span class="line"><span style="color:#6A737D">// å¾ const mul = (a) => (b) => (c) => { return a * b * c } å„ªåŒ–è€Œä¾†</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> mul</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">a</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">  return</span><span style="color:#F97583"> function</span><span style="color:#E1E4E8"> (</span><span style="color:#FFAB70">b</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#F97583"> function</span><span style="color:#E1E4E8"> (</span><span style="color:#FFAB70">c</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">      return</span><span style="color:#E1E4E8"> a </span><span style="color:#F97583">*</span><span style="color:#E1E4E8"> b </span><span style="color:#F97583">*</span><span style="color:#E1E4E8"> c;</span></span>
<span class="line"><span style="color:#E1E4E8">    };</span></span>
<span class="line"><span style="color:#E1E4E8">  };</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<h3 id="å¦‚ä½•æª¢æŸ¥ä¸€å€‹è®Šæ•¸çš„å‹åˆ¥">å¦‚ä½•æª¢æŸ¥ä¸€å€‹è®Šæ•¸çš„å‹åˆ¥ï¼Ÿ</h3>
<p>ä½¿ç”¨ <code>typeof</code>ï¼š</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#6A737D">// ä½†é ˆæ³¨æ„åœ°é›·</span></span>
<span class="line"><span style="color:#E1E4E8">console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">typeof</span><span style="color:#E1E4E8"> []); </span><span style="color:#6A737D">// object</span></span>
<span class="line"><span style="color:#E1E4E8">console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">typeof</span><span style="color:#79B8FF"> null</span><span style="color:#E1E4E8">); </span><span style="color:#6A737D">// object</span></span>
<span class="line"><span style="color:#E1E4E8">console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">typeof</span><span style="color:#F97583"> function</span><span style="color:#B392F0"> f</span><span style="color:#E1E4E8">() {}); </span><span style="color:#6A737D">// functionï¼Œä¸¦éobject</span></span>
<span class="line"><span style="color:#E1E4E8">console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">typeof</span><span style="color:#79B8FF"> undefined</span><span style="color:#E1E4E8">); </span><span style="color:#6A737D">// undefined</span></span></code></pre>
<p>ä½¿ç”¨ <code>Object.prototype.toString.call()</code>ï¼š</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#E1E4E8">console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">Object</span><span style="color:#E1E4E8">.</span><span style="color:#79B8FF">prototype</span><span style="color:#E1E4E8">.toString.</span><span style="color:#B392F0">call</span><span style="color:#E1E4E8">([])); </span><span style="color:#6A737D">// [object Array]</span></span>
<span class="line"><span style="color:#E1E4E8">console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">Object</span><span style="color:#E1E4E8">.</span><span style="color:#79B8FF">prototype</span><span style="color:#E1E4E8">.toString.</span><span style="color:#B392F0">call</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">null</span><span style="color:#E1E4E8">)); </span><span style="color:#6A737D">// [object Null]</span></span>
<span class="line"><span style="color:#E1E4E8">console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">Object</span><span style="color:#E1E4E8">.</span><span style="color:#79B8FF">prototype</span><span style="color:#E1E4E8">.toString.</span><span style="color:#B392F0">call</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">function</span><span style="color:#B392F0"> f</span><span style="color:#E1E4E8">() {})); </span><span style="color:#6A737D">// [object Function]</span></span>
<span class="line"><span style="color:#E1E4E8">console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">Object</span><span style="color:#E1E4E8">.</span><span style="color:#79B8FF">prototype</span><span style="color:#E1E4E8">.toString.</span><span style="color:#B392F0">call</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">undefined</span><span style="color:#E1E4E8">)); </span><span style="color:#6A737D">// [object Undefined]</span></span></code></pre>
<h3 id="call-by-reference-èˆ‡-call-by-value-ä¹‹å·®ç•°">call by reference èˆ‡ call by value ä¹‹å·®ç•°</h3>
<ul>
<li>JS ä¸­é™¤äº† primitive type ä»¥å¤–çš„å‹åˆ¥çš†æ˜¯ call by reference</li>
<li>å°‡ primitive type è³¦å€¼çµ¦å¦å¤–ä¸€å€‹è®Šæ•¸çš„è©±ï¼Œè©²è³‡æ–™æœƒè¢«æ‹·è²ï¼›ä½†å¦‚æœå°‡ primitive type ä»¥å¤–çš„å€¼è³¦äºˆå¦å¤–ä¸€å€‹è®Šæ•¸çš„è©±ï¼Œè³¦äºˆçš„æ˜¯è¨˜æ†¶é«”ä¸­çš„ä½ç½®</li>
</ul>
<h3 id="å¦‚ä½•æ‹·è²ä¸€å€‹é™£åˆ—æˆ–ç‰©ä»¶">å¦‚ä½•æ‹·è²ä¸€å€‹é™£åˆ—æˆ–ç‰©ä»¶</h3>
<ul>
<li>for loop</li>
<li>å±•é–‹é‹ç®—å­ï¼ˆ<code>[...]</code>æˆ–<code>{...}</code>ï¼‰ï¼Œä½†åƒ…é™æ–¼ä¸€å±¤çš„é™£åˆ—æˆ–ç‰©ä»¶ï¼Œç„¡æ³•è™•ç†å·¢ç‹€çµæ§‹</li>
<li><code>Array.prototype.slice()</code></li>
</ul>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> arr1</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> [</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">2</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">3</span><span style="color:#E1E4E8">];</span></span>
<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> arr2</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> arr1.</span><span style="color:#B392F0">slice</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">arr1.</span><span style="color:#B392F0">push</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">4</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(arr2); </span><span style="color:#6A737D">// [1, 2, 3]</span></span></code></pre>
<ul>
<li><code>Array.prototype.concat()</code></li>
</ul>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> arr1</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> [</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">2</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">3</span><span style="color:#E1E4E8">];</span></span>
<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> arr2</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> arr1.</span><span style="color:#B392F0">concat</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">arr1.</span><span style="color:#B392F0">push</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">4</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(arr2); </span><span style="color:#6A737D">// [1, 2, 3]</span></span></code></pre>
<ul>
<li><code>Object.assign()</code>æˆ–<code>Array.prototype.map()</code></li>
</ul>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> obj1</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> { a: </span><span style="color:#9ECBFF">'apple'</span><span style="color:#E1E4E8"> };</span></span>
<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> obj2</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> Object.</span><span style="color:#B392F0">assign</span><span style="color:#E1E4E8">({}, obj1);</span></span>
<span class="line"><span style="color:#E1E4E8">obj1.b </span><span style="color:#F97583">=</span><span style="color:#9ECBFF"> 'banana'</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(obj2); </span><span style="color:#6A737D">// { a: 'apple' }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> arr1</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> [</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">2</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">3</span><span style="color:#E1E4E8">];</span></span>
<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> arr2</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> arr1.</span><span style="color:#B392F0">map</span><span style="color:#E1E4E8">((</span><span style="color:#FFAB70">x</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> x);</span></span>
<span class="line"><span style="color:#E1E4E8">arr1.</span><span style="color:#B392F0">push</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">4</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(arr2); </span><span style="color:#6A737D">// [1, 2, 3]</span></span></code></pre>
<ul>
<li>æ·±æ‹·è²ï¼š<code>JSON.stringify()</code>æ­é…<code>JSON.parse()</code>ï¼Œä½†æ³¨æ„æ­¤æ–¹å¼ç„¡æ³•è™•ç†åŒ…å« function çš„é™£åˆ—ã€ç‰©ä»¶</li>
</ul>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> obj1</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> { a: </span><span style="color:#9ECBFF">'apple'</span><span style="color:#E1E4E8"> };</span></span>
<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> obj2</span><span style="color:#F97583"> =</span><span style="color:#79B8FF"> JSON</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">parse</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">JSON</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">stringify</span><span style="color:#E1E4E8">(arr1));</span></span>
<span class="line"><span style="color:#E1E4E8">obc1.b </span><span style="color:#F97583">=</span><span style="color:#9ECBFF"> 'banana'</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(obj2); </span><span style="color:#6A737D">// { a: "apple" }</span></span></code></pre>
<h3 id="è«‹å›ç­”ä»¥ä¸‹ç¨‹å¼ç¢¼è¼¸å‡ºçµæœ">è«‹å›ç­”ä»¥ä¸‹ç¨‹å¼ç¢¼è¼¸å‡ºçµæœ</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#F97583">let</span><span style="color:#E1E4E8"> pay </span><span style="color:#F97583">=</span><span style="color:#9ECBFF"> '1000'</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">(() </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">  console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">`origin pay is ${</span><span style="color:#E1E4E8">pay</span><span style="color:#9ECBFF">}`</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#F97583">  var</span><span style="color:#E1E4E8"> pay </span><span style="color:#F97583">=</span><span style="color:#9ECBFF"> '5000'</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">  console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">`new pay is ${</span><span style="color:#E1E4E8">pay</span><span style="color:#9ECBFF">}`</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">})();</span></span></code></pre>
<ul>
<li>åˆ†åˆ¥æ˜¯ <code>origin pay is undefined</code> èˆ‡ <code>new pay is 5000</code></li>
<li>IIFEã€scope èˆ‡ hoisting æ¦‚å¿µé¡Œ</li>
<li>æœ€å¤–å±¤çš„ let pay æ²’æœ‰ä»»ä½•å½±éŸ¿ï¼ŒIIFE ä¸­çš„ var pay ç¶“ hoisting å¯å…ˆå–ç”¨ï¼ˆaccessï¼‰ï¼Œä½†å€¼åªæœƒå–åˆ° <code>undefined</code>ï¼Œç›´åˆ°åŸ·è¡Œåˆ° <code>var pay = 5000</code> å¾Œæ‰æœƒè¼¸å‡º <code>new pay is 5000</code></li>
</ul>
<h3 id="ä»€éº¼æ˜¯-this">ä»€éº¼æ˜¯ this</h3>
<ul>
<li>JS engine åœ¨ creation phase æœƒè‡ªå‹•å»ºç«‹çš„ç‰©ä»¶ï¼Œï¼ˆåœ¨é strict æƒ…æ³ä¸‹ï¼‰<strong>é è¨­<code>this</code>æœƒæŒ‡å‘ç›®å‰çš„åŸ·è¡Œç’°å¢ƒï¼ˆexecution contextï¼‰</strong></li>
<li>object ä¸­çš„ method ä¸­çš„ this æœƒç›´æ¥æŒ‡å‘è©² objectï¼Œä½†éœ€æ³¨æ„å³ä½¿æ˜¯ä½åœ¨ object ä¸­ï¼Œ<strong>arrow function çš„ this é‚„æ˜¯æœƒç›´æ¥æŒ‡å‘ global object</strong></li>
</ul>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#E1E4E8">console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">this</span><span style="color:#E1E4E8">); </span><span style="color:#6A737D">// Window</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> obj</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">  firstName: </span><span style="color:#9ECBFF">'Charlie'</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">  lastName: </span><span style="color:#9ECBFF">'Wang'</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#B392F0">  greet</span><span style="color:#E1E4E8">: </span><span style="color:#F97583">function</span><span style="color:#E1E4E8"> () {</span></span>
<span class="line"><span style="color:#E1E4E8">    console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">`Hello ${</span><span style="color:#79B8FF">this</span><span style="color:#9ECBFF">.</span><span style="color:#E1E4E8">firstName</span><span style="color:#9ECBFF">}`</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#F97583">    function</span><span style="color:#B392F0"> nestInGreet</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">      console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">`this in nestInGreet: ${</span><span style="color:#79B8FF">this</span><span style="color:#9ECBFF">}`</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#B392F0">    nestInGreet</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">  },</span></span>
<span class="line"><span style="color:#B392F0">  greetArrow</span><span style="color:#E1E4E8">: () </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">    console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">`Hello ${</span><span style="color:#79B8FF">this</span><span style="color:#9ECBFF">.</span><span style="color:#E1E4E8">firstName</span><span style="color:#9ECBFF">}`</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">  },</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">obj.</span><span style="color:#B392F0">greet</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#6A737D">// 'Hello Charlie'</span></span>
<span class="line"><span style="color:#6A737D">// 'this in nestInGreet: [object Window]'</span></span>
<span class="line"><span style="color:#6A737D">// undefined</span></span></code></pre>
<ul>
<li>å¯é€é<code>apply()</code>ã€<code>bind()</code>èˆ‡<code>call()</code>ç¶çµ¦æŒ‡å®šç›®æ¨™</li>
<li>éœ€æ³¨æ„ arrow function çš„<code>this</code>ä¹ƒæ˜¯æ ¹æ“šå…¶è¢«å»ºç«‹çš„ scope æ±ºå®šï¼ˆMDN: Arrow functions establish â€œthisâ€ <strong>based on the scope the Arrow function is defined within</strong>.ï¼‰ï¼Œä¹Ÿç„¡æ³•é€é<code>apply()</code>ã€<code>bind()</code>èˆ‡<code>call()</code>èª¿æ•´ç›®æ¨™</li>
</ul>
<h3 id="applybindèˆ‡-callçš„å·®ç•°">apply()ã€bind()èˆ‡ call()çš„å·®ç•°</h3>
<ul>
<li><code>apply()</code>èˆ‡<code>call()</code>çš†æœƒè®“å‡½æ•¸åœ¨ç¶å®šå¾Œé¦¬ä¸ŠåŸ·è¡Œï¼Œ<code>apply()</code>æ¥å—é™£åˆ—åšç‚ºåƒæ•¸</li>
<li><code>bind()</code>åƒ…åŸ·è¡Œç¶å®šï¼Œä¸¦å›å‚³ä¸€å€‹ç¶å®šå¾Œçš„å‡½æ•¸</li>
</ul>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> obj</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">  firstName: </span><span style="color:#9ECBFF">'Charlie'</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">  lastName: </span><span style="color:#9ECBFF">'Wang'</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> greet</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">a</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">b</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">  return</span><span style="color:#9ECBFF"> `${</span><span style="color:#E1E4E8">a</span><span style="color:#9ECBFF">} ${</span><span style="color:#79B8FF">this</span><span style="color:#9ECBFF">.</span><span style="color:#E1E4E8">firstName</span><span style="color:#9ECBFF">}, ${</span><span style="color:#E1E4E8">b</span><span style="color:#9ECBFF">}`</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(greet.</span><span style="color:#B392F0">call</span><span style="color:#E1E4E8">(obj, </span><span style="color:#9ECBFF">'Hello'</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">'how are you?'</span><span style="color:#E1E4E8">)); </span><span style="color:#6A737D">// Hello Charlie, how are you?</span></span>
<span class="line"><span style="color:#E1E4E8">console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(greet.</span><span style="color:#B392F0">apply</span><span style="color:#E1E4E8">(obj, [</span><span style="color:#9ECBFF">'Hello'</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">'how are you?'</span><span style="color:#E1E4E8">])); </span><span style="color:#6A737D">// Hello Charlie, how are you?</span></span>
<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> bindGreet</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> greet.</span><span style="color:#B392F0">bind</span><span style="color:#E1E4E8">(obj);</span></span>
<span class="line"><span style="color:#E1E4E8">console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">bindGreet</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'Hello'</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">'how are you?'</span><span style="color:#E1E4E8">)); </span><span style="color:#6A737D">// Hello Charlie, how are you?</span></span></code></pre>
<h2 id="ç¬¬ä¸‰é€±é¡Œç›®ä¸²">ç¬¬ä¸‰é€±é¡Œç›®ä¸²</h2>
<h3 id="ç¬¬ä¸‰é€±ä»¥ä¸‹ç¨‹å¼ç¢¼çš„è¼¸å‡ºçµæœç‚º">ç¬¬ä¸‰é€±ï¼šä»¥ä¸‹ç¨‹å¼ç¢¼çš„è¼¸å‡ºçµæœç‚ºï¼Ÿ</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#F97583">var</span><span style="color:#E1E4E8"> hero </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">  _name: </span><span style="color:#9ECBFF">'John Doe'</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#B392F0">  getSecretIdentity</span><span style="color:#E1E4E8">: </span><span style="color:#F97583">function</span><span style="color:#E1E4E8"> () {</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#79B8FF"> this</span><span style="color:#E1E4E8">._name;</span></span>
<span class="line"><span style="color:#E1E4E8">  },</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">var</span><span style="color:#E1E4E8"> stoleSecretIdentity </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> hero.getSecretIdentity;</span></span>
<span class="line"><span style="color:#E1E4E8">console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">stoleSecretIdentity</span><span style="color:#E1E4E8">());</span></span>
<span class="line"><span style="color:#E1E4E8">console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(hero.</span><span style="color:#B392F0">getSecretIdentity</span><span style="color:#E1E4E8">());</span></span></code></pre>
<ul>
<li><code>undefined</code> èˆ‡ <code>John Doe</code></li>
<li><code>stoleSecretIdentity</code> åŸ·è¡Œæ™‚çš„ <code>this</code> æŒ‡å‘ global object ä¸­çš„ <code>_name</code>ï¼Œå› æ²’æœ‰è³¦äºˆå€¼æ‰€ä»¥å›å‚³ <code>undefined</code></li>
<li><code>hero.getSecretIdentity</code> åŸ·è¡Œæ™‚å›å‚³ hero çš„ <code>_name</code>ï¼Œç‚º <code>John Doe</code></li>
<li>å‚™è¨»ï¼šé€™è£¡åœ¨ hero ä¸­ä½¿ç”¨ <code>_name</code> æ˜¯å› ç‚ºç€è¦½å™¨çš„ global object ä¸­æœ¬èº«å°±æœ‰ <code>name</code> é€™å€‹å€¼äº†ï¼Œæ‰€ä»¥å‘½åç‚º <code>_name</code> é¿å…è¦†è“‹</li>
</ul>
<h3 id="ç®­é ­å‡½æ•¸çš„ç‰¹æ€§">ç®­é ­å‡½æ•¸çš„ç‰¹æ€§</h3>
<ul>
<li>åŒ¿å</li>
<li>ç®­é ­å‡½æ•¸çš„ <code>this</code> å›ºå®šæŒ‡å‘è©²ç®­é ­å‡½æ•¸çš„åŸ·è¡Œç’°å¢ƒï¼ˆexecution contextï¼‰</li>
<li><code>apply()</code>ã€<code>bind()</code> èˆ‡ <code>call()</code> å°å…¶ç„¡æ•ˆ</li>
<li>æ²’æœ‰ <code>arguments</code></li>
</ul>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#E1E4E8">(</span><span style="color:#F97583">function</span><span style="color:#E1E4E8"> (</span><span style="color:#FFAB70">a</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#E1E4E8">  console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">arguments</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">})()(</span></span>
<span class="line"><span style="color:#6A737D">  // ArgumentsÂ [callee: Æ’, Symbol(Symbol.iterator): Æ’]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">  (</span><span style="color:#FFAB70">b</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">    console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">arguments</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">)();</span></span>
<span class="line"><span style="color:#6A737D">// Uncaught ReferenceError: arguments is not defined</span></span></code></pre>
<h3 id="consolelog0--1--1--2çš„è¼¸å‡ºçµæœç‚ºä½•">console.log(0 &#x26;&#x26; 1 || 1 &#x26;&#x26; 2)çš„è¼¸å‡ºçµæœç‚ºä½•</h3>
<ul>
<li><code>2</code>ï¼Œæ‹†è§£å¦‚ä¸‹ï¼š
<ul>
<li>å…ˆè™•ç†<code>1 &#x26;&#x26; 2</code>ï¼Œçµæœç‚º 2</li>
<li>å†è™•ç†<code>0 &#x26;&#x26; 1</code>ï¼Œçµæœç‚º 0</li>
<li>æœ€å¾Œæ¯”è¼ƒ<code>0 || 2</code>ï¼Œå¾—åˆ° 2</li>
</ul>
</li>
</ul>
<p>åƒè€ƒ MDN èªªæ˜ï¼š</p>
<blockquote>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Logical_AND">Logical AND (expr1 &#x26;&#x26; expr2)</a>: If <strong>expr1 can be converted to true</strong>, <strong>returns expr2</strong>; else, returns expr1.</p>
</blockquote>
<blockquote>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Logical_OR">Logical OR (expr1 || expr2)</a>: If <strong>expr1 can be converted to true</strong>, <strong>returns expr1</strong>; else, returns expr2.</p>
</blockquote>
<h3 id="js-å¦‚ä½•è™•ç†éåŒæ­¥">JS å¦‚ä½•è™•ç†éåŒæ­¥ï¼Ÿ</h3>
<ul>
<li>JS çš„æœ¬è³ªæ˜¯<strong>single thread</strong>ï¼Œè€Œåœ¨ç€è¦½å™¨ç’°å¢ƒä¸­çš„éåŒæ­¥ä»»å‹™æœƒç”± web API è™•ç†ï¼›éåŒæ­¥çš„ callback function æœƒè¢«æ¨åˆ° queue ä¸­ï¼Œç•¶<strong>event loop</strong>ç¢ºèª stack æ¸…ç©ºå¾Œæ‰æœƒé–‹å§‹åŸ·è¡Œ queue ä¸­ç´¯ç©çš„ä»»å‹™</li>
<li>å¸¸è¦‹çš„éåŒæ­¥ä»»å‹™å¦‚ setTimeoutã€promiseã€ä»¥åŠ DOM manipulation</li>
</ul>
<h3 id="ä»€éº¼æ˜¯-promise">ä»€éº¼æ˜¯ promiseï¼Ÿ</h3>
<ul>
<li>è®“ä¸€å€‹éåŒæ­¥ä»»å‹™åŸ·è¡Œå®Œç•¢å¾Œå›å‚³ã€Œä¸€å€‹ã€çµæœï¼Œçµæœåªæœƒæ˜¯æˆåŠŸæˆ–å¤±æ•—</li>
<li>ç°¡å–®ç¯„ä¾‹ï¼š</li>
</ul>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> myPromise</span><span style="color:#F97583"> =</span><span style="color:#F97583"> new</span><span style="color:#79B8FF"> Promise</span><span style="color:#E1E4E8">((</span><span style="color:#FFAB70">resolve</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">reject</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> r</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> Math.</span><span style="color:#B392F0">floor</span><span style="color:#E1E4E8">(Math.</span><span style="color:#B392F0">random</span><span style="color:#E1E4E8">() </span><span style="color:#F97583">*</span><span style="color:#79B8FF"> 10</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#F97583">  if</span><span style="color:#E1E4E8"> (r </span><span style="color:#F97583">></span><span style="color:#79B8FF"> 5</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#B392F0">    resolve</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'æˆåŠŸ'</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">  } </span><span style="color:#F97583">else</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">    reject</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'å¤±æ•—'</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">myPromise</span></span>
<span class="line"><span style="color:#E1E4E8">  .</span><span style="color:#B392F0">then</span><span style="color:#E1E4E8">((</span><span style="color:#FFAB70">result</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(result))</span></span>
<span class="line"><span style="color:#E1E4E8">  .</span><span style="color:#B392F0">catch</span><span style="color:#E1E4E8">((</span><span style="color:#FFAB70">error</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(error));</span></span></code></pre>
<h3 id="ä»¥ä¸‹ç¨‹å¼ç¢¼çš„è¼¸å‡ºçµæœç‚ºä½•">ä»¥ä¸‹ç¨‹å¼ç¢¼çš„è¼¸å‡ºçµæœç‚ºä½•ï¼Ÿ</h3>
<h4 id="ç¬¬ä¸€é¡Œ">ç¬¬ä¸€é¡Œ</h4>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> promiseF</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">num</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">time</span><span style="color:#F97583"> =</span><span style="color:#79B8FF"> 500</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">  return</span><span style="color:#F97583"> new</span><span style="color:#79B8FF"> Promise</span><span style="color:#E1E4E8">((</span><span style="color:#FFAB70">resolve</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">reject</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">    setTimeout</span><span style="color:#E1E4E8">(() </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">      num </span><span style="color:#F97583">?</span><span style="color:#B392F0"> resolve</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">`${</span><span style="color:#E1E4E8">num</span><span style="color:#9ECBFF">}, success`</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">:</span><span style="color:#B392F0"> reject</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'fail'</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">    }, time);</span></span>
<span class="line"><span style="color:#E1E4E8">  });</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">promiseF</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">  .</span><span style="color:#B392F0">then</span><span style="color:#E1E4E8">((</span><span style="color:#FFAB70">value</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(value))</span></span>
<span class="line"><span style="color:#E1E4E8">  .</span><span style="color:#B392F0">catch</span><span style="color:#E1E4E8">((</span><span style="color:#FFAB70">error</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(error));</span></span></code></pre>
<ul>
<li>failï¼Œå‚³å…¥ <code>0</code> åœ¨<code>num ? resolve() : reject()</code> é€™è£æœƒé€²å…¥ <code>reject()</code>ï¼Œæ‰€ä»¥æœ€å¾Œè¼¸å‡º <code>fail</code></li>
<li>é‡é»ï¼š<code>0</code> å¼·åˆ¶è½‰å‹ç‚º <code>false</code></li>
</ul>
<h4 id="ç¬¬äºŒé¡Œ">ç¬¬äºŒé¡Œ</h4>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> p</span><span style="color:#F97583"> =</span><span style="color:#F97583"> new</span><span style="color:#79B8FF"> Promise</span><span style="color:#E1E4E8">((</span><span style="color:#FFAB70">resolve</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">reject</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">  console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#B392F0">  resolve</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">5</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">  console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">2</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#B392F0">  reject</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">6</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">p.</span><span style="color:#B392F0">then</span><span style="color:#E1E4E8">((</span><span style="color:#FFAB70">value</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">  console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(value);</span></span>
<span class="line"><span style="color:#E1E4E8">  console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">3</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">}).</span><span style="color:#B392F0">catch</span><span style="color:#E1E4E8">((</span><span style="color:#FFAB70">error</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">  console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(error);</span></span>
<span class="line"><span style="color:#E1E4E8">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">4</span><span style="color:#E1E4E8">);</span></span></code></pre>
<ul>
<li>ä¾åºè¼¸å‡º <code>1</code>ã€<code>2</code>ã€<code>4</code>ã€<code>5</code>ã€<code>3</code></li>
<li>è§£é‡‹ï¼š
<ul>
<li>å…ˆè¼¸å‡ºåŸ·è¡Œ pï¼ˆåŒæ­¥ï¼‰çš„ 1 èˆ‡ 2</li>
<li>åŸ·è¡ŒåŒæ­¥çš„ <code>console.log(4)</code></li>
<li>åŸ·è¡Œ <code>resolve</code> çš„çµæœ 5 èˆ‡ 3</li>
<li>p åˆ° <code>resolve</code> å°±çµæŸäº†ï¼Œä¸æœƒé€²å…¥ <code>reject</code></li>
</ul>
</li>
<li>æç¤ºï¼šPromise ä¹Ÿåªæ˜¯å€‹ç‰©ä»¶ï¼Œæ‰€ä»¥å®£å‘Š p çš„æ™‚å€™ï¼Œè£¡é¢çš„ console.log å°±è·Ÿè‘—åŸ·è¡Œ</li>
</ul>
<h4 id="ç¬¬ä¸‰é¡Œ">ç¬¬ä¸‰é¡Œ</h4>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#B392F0">setTimeout</span><span style="color:#E1E4E8">(() </span><span style="color:#F97583">=></span><span style="color:#B392F0"> alert</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'timeout!'</span><span style="color:#E1E4E8">));</span></span>
<span class="line"><span style="color:#79B8FF">Promise</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">resolve</span><span style="color:#E1E4E8">().</span><span style="color:#B392F0">then</span><span style="color:#E1E4E8">(() </span><span style="color:#F97583">=></span><span style="color:#B392F0"> alert</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'promise!'</span><span style="color:#E1E4E8">));</span></span>
<span class="line"><span style="color:#B392F0">alert</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'global alert!'</span><span style="color:#E1E4E8">);</span></span></code></pre>
<ul>
<li>å…ˆ<code>global alert!</code>ï¼Œæ¥è‘— <code>promise!</code>ï¼Œæœ€å¾Œ <code>timeout!</code></li>
<li>ç€è¦½å™¨çš„ event loop æœƒå…ˆè™•ç† stack ä¸­çš„ä»»å‹™ï¼Œæ¥è‘—è™•ç†ã€Œæ‰€æœ‰ã€çš„ microtasksï¼Œæœ€å¾Œæ‰è™•ç† queue ä¸­çš„ä»»å‹™</li>
</ul>
<h4 id="ç¬¬å››é¡Œ">ç¬¬å››é¡Œ</h4>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#E1E4E8">console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">setTimeout</span><span style="color:#E1E4E8">(() </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">  console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">2</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#79B8FF">  Promise</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">resolve</span><span style="color:#E1E4E8">().</span><span style="color:#B392F0">then</span><span style="color:#E1E4E8">(() </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">3</span><span style="color:#E1E4E8">));</span></span>
<span class="line"><span style="color:#E1E4E8">}, </span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">new</span><span style="color:#79B8FF"> Promise</span><span style="color:#E1E4E8">((</span><span style="color:#FFAB70">resolve</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">reject</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">  console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">4</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#B392F0">  resolve</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">5</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">}).</span><span style="color:#B392F0">then</span><span style="color:#E1E4E8">((</span><span style="color:#FFAB70">data</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(data));</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">setTimeout</span><span style="color:#E1E4E8">(() </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">  console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">6</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">}, </span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">7</span><span style="color:#E1E4E8">);</span></span></code></pre>
<ul>
<li><code>1</code>ã€<code>4</code>ã€<code>7</code>ã€<code>5</code>ã€<code>2</code>ã€<code>3</code>ã€<code>6</code></li>
<li>è§£é‡‹ï¼š
<ul>
<li>è¼¸å‡ºåŒæ­¥çš„ 1</li>
<li>è¼¸å‡º new Promise ç‰©ä»¶å…§éƒ¨åŒæ­¥çš„ 4</li>
<li>è¼¸å‡ºåŒæ­¥çš„ 7</li>
<li>è¼¸å‡º micortask Promise çš„ 5</li>
<li>è¼¸å‡ºç¬¬ä¸€å€‹<code>setTimeout</code>çš„çµæœ 2</li>
<li>å›  micortask åœ¨ event loop ä¸­çš„å„ªå…ˆåº¦è¼ƒé«˜ï¼Œè¼¸å‡º 3</li>
<li>æœ€å¾Œè¼¸å‡ºç¬¬äºŒå€‹<code>setTimeout</code>çš„çµæœ 6</li>
</ul>
</li>
</ul>
<p><img src="/2021/js-interview-questions/browser-event-loop.png" alt="Browser event loop chart"></p>
<h2 id="åƒè€ƒæ–‡ä»¶">åƒè€ƒæ–‡ä»¶</h2>
<ul>
<li><a href="https://hackmd.io/XM6PlGD-ST-EDBkR_nH5Sg">JS æ¨¡æ“¬é¢è©¦è®€æ›¸æœƒ(2021/7 æœˆç‰ˆ)</a></li>
<li><a href="https://stackoverflow.com/questions/31219420/are-variables-declared-with-let-or-const-hoisted">Are variables declared with let or const hoisted?</a></li>
<li><a href="https://medium.com/coderbyte/a-tricky-javascript-interview-question-asked-by-google-and-amazon-48d212890703">A Tricky JavaScript Interview Question Asked by Google and Amazon</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/typeof">MDN: typeof</a></li>
<li><a href="https://stackoverflow.com/questions/588004/is-floating-point-math-broken">Is floating point math broken?</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Cant_access_lexical_declaration_before_init">MDN: ReferenceError: canâ€™t access lexical declaration â€˜Xâ€™ before initialization</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Addition">MDN: Addition (+)</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions">MDN: Arrow function expressions</a></li>
</ul> </div>   <footer class="footer" data-astro-cid-qlgq3onj>
Tzu Yin (Charlie) ğŸ¦Š Made in Taiwan
</footer>  </section>  </body></html> 