---
title: æ¨æ£„ create-react-app ä¹‹é¤˜é‚„æ¶äº†å€‹ astro blog æ˜­å‘Šå¤©ä¸‹ï¼šè®€å– .md
date: 2023-10-04 08:03:09
tag:
- [2023éµäººè³½]
- [astro]
banner: /2023/ithome-2023-19/elisa-calvet-b-S3nUOqDmUvc-unsplash.jpg
summary: éƒ¨è½æ ¼çš„åŸºæœ¬å–®ä½å°±æ˜¯æ–‡ç« ï¼Œä»Šå¤©å°±ä¾†çœ‹çœ‹å¦‚ä½•å¯«å‡º astro èƒ½è™•ç† .md æª”å§
draft:
---

æ ¹æ“š[å®˜æ–¹æ–‡ä»¶](https://docs.astro.build/en/guides/markdown-content/)ï¼Œé–‹ç™¼è€…åªè¦æ ¹æ“š [frontmatter YAML](https://stackoverflow.com/a/44222826) ä»¥åŠ [markdown syntax](https://www.markdownguide.org/basic-syntax/) ä¾†æ’°å¯« `.md` å…§å®¹ï¼Œå°±èƒ½ç›´æ¥å€Ÿç”¨ astro å…§é™„çš„ markdown ç·¨è­¯åŠŸèƒ½ä¾†æŠŠéƒ¨è½æ ¼æ–‡ç« è½‰ç‚ºçµæ§‹ç©©ç•¶çš„éœæ…‹ç¶²ç«™ã€‚

ä»Šå¤©æœƒä¾†ç°¡å–®ä»‹ç´¹åœ¨ astro æ’°å¯« `.md` æ™‚çš„æ³¨æ„äº‹é …ã€‚

## é—œæ–¼ md æª”

é¦–å…ˆä¾†åœ¨ `./src/pages` è³‡æ–™å¤¾ä¸­æ–°å¢ä¸€å€‹ `hello-world.md` æª”æ¡ˆï¼Œçµæ§‹å¦‚ä¸‹ï¼š

```md
---
<!--- åœ¨å…©çµ„ `---` ä¹‹é–“çš„æ˜¯ frontmatter å€å¡Š -->
layout:
title:
date:
---

<!--- åœ¨ç¬¬äºŒçµ„ `---` ä¹‹å¾Œçš„æ˜¯æ–‡ç« æœ¬é«”å€å¡Š -->

## æ¨™é¡Œ

å…§æ–‡ â‹¯â‹¯
```

### frontmatter/meta å€

é™¤äº†å¸¸è¦‹çš„ `title` / `date` / `tag` ç­‰ã€Œå¸¸è¦‹çš„æ–‡ç«  meta è³‡è¨Šå¤–ã€ï¼Œastro å…è¨±é–‹ç™¼è€…åœ¨ `.md` frontmatter å€å¡Šä½¿ç”¨ `layout` é€™å€‹ç‰¹æ®Šé—œéµå­—ï¼š

```md
---
title: éµäººè³½ Modern Web çµ„ã€Œæ¨æ£„ create-react-app ä¹‹é¤˜é‚„æ¶äº†å€‹ astro blog æ˜­å‘Šå¤©ä¸‹ã€ç¬¬ 19 å¤©
date: 2023-09-07 19:29:09
tag:
- [2023éµäººè³½]
banner: /2023/ithome-2023-19/elisa-calvet-b-S3nUOqDmUvc-unsplash.jpg
summary: éƒ¨è½æ ¼çš„åŸºæœ¬å–®ä½å°±æ˜¯æ–‡ç« ï¼Œä»Šå¤©å°±ä¾†çœ‹çœ‹ astro å¦‚ä½•è™•ç† .md æª”æ¡ˆå§
draft: true
---
```

ä¸Šæ–¹ `.md` frontmatter ä»£è¡¨çš„æ„ç¾©æ˜¯ï¼šå°é€™ç¯‡æ–‡ç« å¥—ç”¨æŒ‡å®šçš„ astro å…ƒä»¶ `@Components/pages/SinglePostLayout.astro`ï¼ˆæé†’ï¼šå¯¦éš›è·¯å¾‘ç‚º `./src/components/pages/SinglePostLayout.astro`ï¼‰ã€‚

å¦å¤–ï¼Œé€™ç¯‡æ–‡ç« å…¶é¤˜çš„ meta è³‡è¨ŠåŒ…å« `title` / `date` / `tag` / `banner` / `summary` / `draft` å…­å€‹é …ç›®ã€‚

### æ–‡ç« æœ¬é«”å€

astro æœƒæŠŠä½æ–¼æ­¤è™•çš„å…§å®¹è½‰ç‚º[å°æ‡‰çš„ html å…ƒä»¶](https://www.markdownguide.org/basic-syntax/)ã€‚é–‹ç™¼è€…å¯«æ–‡æ™‚åªè¦å°ˆæ³¨æ–¼å…§å®¹èˆ‡çµæ§‹ç·¨æ’ï¼Œä¸éœ€è¦é¡å¤–ç…©æƒ±è½‰è­¯ç‚ºéœæ…‹ç¶²ç«™å…§å®¹çš„å•é¡Œã€‚

æé†’ï¼šåœ¨ `.md` ä¸­å¼•ç”¨åœ–ç‰‡ã€å½±ç‰‡ç­‰éœæ…‹å…§å®¹æ™‚ï¼Œé ˆå°‡æª”æ¡ˆæ”¾ç½®æ–¼ `./public` ä¸­å†è¡Œå¼•ç”¨ã€‚

```md
![é€™è£¡æ˜¯åœ–ç‰‡ alt æ–‡å­—å…§å®¹](/image/hello-world.jpg)
```

ä»¥ä¸Šåœ¨åšçš„äº‹æƒ…å³æ˜¯ã€Œå¼•ç”¨ä½æ–¼ `./public/image` è³‡æ–™å¤¾ä¸­çš„ `hello-world.jpg` åœ–ç‰‡ã€ã€‚æ³¨æ„ä¸éœ€è¦åœ¨éœæ…‹æª”æ¡ˆçš„è·¯å¾‘ä¸­åŒ…å« `./public` è³‡æ–™å¤¾ã€‚

## é—œæ–¼ layout å…ƒä»¶

ä¸€å€‹ astro å…ƒä»¶åŸºæœ¬ä¸Šæœƒæœ‰ [Component Script èˆ‡ Component Template](https://docs.astro.build/en/core-concepts/astro-components/#component-structure) å…©å€‹éƒ¨åˆ†ã€‚è€Œä»¥ `.md` ä¸­æŒ‡å®šçš„æ’ç‰ˆå…ƒä»¶ `SinglePostLayout` ä¾†èªªï¼Œå®ƒæœƒåŒ…å«ä»¥ä¸‹å…§å®¹ï¼š

```astro
---
// Component Script

interface Post {
  title: string;
  date: Date;
  tag: string[];
}

interface Props {
  frontmatter: Post;
}

const { frontmatter } = Astro.props;
---

<!-- Component Template (HTML + JS Expressions) -->
<div class="post-container">
  <h1>{frontmatter.title}</h1>
  <div class="info">
    <span>{frontmatter.date}</span>
    <span class="tag-container"
      >{frontmatter.tag.map((tag) => <span>{tag}</span>)}</span
    >
  </div>
  <slot />
</div>
```

### Script éƒ¨åˆ†

æ ¹æ“šå®˜æ–¹æ–‡ä»¶ï¼Œæˆ‘å€‘çŸ¥é“å¯ä»¥é€é `Astro.props.frontmatter` å–å¾—æˆ‘å€‘åœ¨ `.md` frontmatter å€å¡Šè¨­å®šå¥½çš„ meta å…§å®¹ï¼š

> Specific properties are then available to the layout component through `Astro.props`. For example, you can access frontmatter properties through `Astro.props.frontmatter`.

å®˜æ–¹å®šç¾©å¥½çš„ `Astro.props` å®Œæ•´å…§å®¹å¯åƒè€ƒ [Markdown Layout Props](https://docs.astro.build/en/core-concepts/layouts/#markdown-layout-props)ã€‚

ä½†åœ¨é€™å€‹å…ƒä»¶ä¸­ï¼Œç‚ºäº†é¿å… TypeScript å ±éŒ¯ï¼Œæˆ‘é¸æ“‡é‡æ–°å®šç¾© `interface Props` ä¾†è¦†å¯« astro å®˜æ–¹å‹åˆ¥ï¼Œé€™æ¨£åœ¨ Template éƒ¨åˆ†æ‰èƒ½é †åˆ©å–å¾— (markdown) Generated values çš„å…§å®¹ï¼ˆå³ `interface Post` ä¸­åˆ—å‡ºé …ç›®ï¼‰ã€‚

### Template éƒ¨åˆ†

æˆ‘åœ¨é€™è£¡å–å‡ºæ¯ç¯‡æ–‡ç« çš„æ¨™é¡Œï¼ˆ`frontmatter.title`ï¼‰æ”¾åˆ° h1 ä¸­ï¼Œä¸¦ä¸”é€é span å…ƒä»¶é¡¯ç¤ºç™¼æ–‡æ—¥æœŸï¼ˆ`frontmatter.date`ï¼‰ä»¥åŠæ¨™ç±¤ï¼ˆ`frontmatter.tag`ï¼‰ã€‚

è€Œé‡é»ä¾†äº†ï¼Œæ•´ç¯‡ `.md` æ–‡ç« ï¼ˆå·²ç¶“çµæ§‹åŒ–ï¼‰çš„å…§å®¹éƒ½æœƒè¢«å‚³å…¥ `<slot />` å…ƒä»¶è£¡é¢ï¼š

> [astro docs](https://docs.astro.build/en/core-concepts/layouts/#markdownmdx-layouts): A typical layout for Markdown or MDX pages includes the frontmatter prop to access the Markdown or MDX pageâ€™s frontmatter and other data, and a default `<slot />` to indicate where the pageâ€™s Markdown/MDX content should be rendered.

æ²’éŒ¯ï¼Œä¸€å€‹è² è²¬æ¸²æŸ“ markdown æ–‡ç« å…§å®¹çš„ astro layout åªéœ€è¦é€™äº›è¦ç´ å°±èƒ½æ­£å¸¸é‹ä½œäº†ã€‚

## ç¸½çµ

å®Œæˆä»¥ä¸Šå…§å®¹å¾Œï¼Œå¯é–‹å•Ÿæœ¬åœ°ä¼ºæœå™¨ä¸¦ç§»å‹•åˆ° `localhost:4321/hello-world`ï¼Œé€™æ™‚ä½ æ‡‰è©²èƒ½çœ‹åˆ°è¢«è½‰ç‚º html çš„ `hello-world.md` å…§å®¹ã€‚

ç¾åœ¨ä½ çŸ¥é“å¦‚ä½•æ’°å¯« astro èƒ½çœ‹æ‡‚çš„ markdown æª”äº† ğŸ‘
