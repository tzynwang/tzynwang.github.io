---
layout: '@Components/pages/SinglePostLayout.astro'
title: æ¨æ£„ create-react-app ä¹‹é¤˜é‚„æ¶äº†å€‹ astro blog æ˜­å‘Šå¤©ä¸‹ï¼šastro ç°¡ä»‹
date: 2023-10-03 08:08:06
tag:
  - [2023éµäººè³½]
  - [astro]
banner: /2023/ithome-2023-18/nasa-Yj1M5riCKk4-unsplash.jpg
summary: astro ç™¼å¸ƒ 3.0 ç‰ˆäº†ï¼Œä½†å› ç‚ºç¨®ç¨®ç¾å¯¦å› ç´ æ‰€ä»¥å¯¦åœ¨ç„¡æ³•åœ¨ä»Šå¹´éµäººè³½è·Ÿä¸Šå‡ç‰ˆï¼Œæœ¬ç³»åˆ—é‚„æ˜¯æœƒä»¥ 2.0 ç‰ˆçš„å…§å®¹åˆ†äº«ç‚ºä¸»ï¼Œæ•¬è«‹è¦‹è«’ã€‚
draft:
---

çµ¦æ²’è½é astro çš„äººçš„å¿«é€Ÿèªªæ˜ï¼šastro æ˜¯ä¸€å€‹éœæ…‹ç¶²ç«™ç”¢ç”Ÿå™¨ï¼ˆstatic site generatorï¼‰ï¼Œèƒ½æ ¹æ“š `.md` å…§å®¹ä¾†å»ºç«‹éœæ…‹ç¶²ç«™ã€‚å‡è¨­ç¾åœ¨çš„ç›®æ¨™æ˜¯ã€Œæ¶è¨­éƒ¨è½æ ¼ã€ï¼Œé‚£éº½ astro ç›¸è¼ƒ next èˆ‡ gatsby çš„å„ªé»æ˜¯â€”â€”astro å·²ç¶“å¹«é–‹ç™¼è€…è™•ç†æ‰ markdown å…§å®¹ç·¨è­¯çš„å·¥ï¼Œé–‹ç™¼è€…åªè¦ç•™æ„è·¯ç”±ç·¨æ’ä»¥åŠç•«é¢æ’ç‰ˆå³å¯ã€‚è€Œç›¸è¼ƒæ–¼å€‹äººéå»ä½¿ç”¨éçš„ hexoï¼Œé«”æ„Ÿä¸Š astro çš„è¨­å®šæ›´ç°¡å–®ã€é€Ÿåº¦ä¹Ÿæ›´å¿«ã€‚

å¦‚æœè®€è€…æœ‰èˆˆè¶£åœ¨ GitHub Page æ¶è¨­è‡ªå·±çš„éƒ¨è½æ ¼ï¼Œå€‹äººèªç‚º astro æ˜¯å€‹å…¥é–€ç›¸å°å®¹æ˜“çš„æ¡†æ¶ =ÍŸÍŸÍÍ( â€¢Ì€Ğ´â€¢Ì)

> æ³¨æ„ï¼šä»Šå¹´éµäººè³½èŠçš„ **astro å…§å®¹å…¨éƒ½ä»¥ 2.0 ç‰ˆç‚ºä¸»** ğŸ˜­

> å®˜æ–¹åœ¨ 8/30 ç™¼å¸ƒäº† [3.0 ç‰ˆçš„æ›´æ–°é€šçŸ¥](https://astro.build/blog/astro-3/)ï¼Œè¿½åŠ äº†ä¸€äº›é…·ç‚«çš„æ–°æ±è¥¿ï¼ˆView Transitions å¯¦åœ¨ä»¤äººå¿ƒå‹•ï¼‰ï¼Œä½†ä¹Ÿ[å–æ¶ˆäº† 2.0 çš„ markdown.drafts åŠŸèƒ½](https://docs.astro.build/en/guides/upgrade-to/v3/#deprecated-markdowndrafts)ã€‚å¾ˆä¸å·§åœ°ï¼Œé€™å€‹åŠŸèƒ½å°å€‹äººä¾†èªªå¾ˆé‡è¦ï¼›ä½†åœ¨è©•ä¼°å¾Œï¼Œæˆ‘èªç‚ºè‡ªå·±ç„¡æ³•åœ¨èƒ½åŠ›æ‰€åŠç¯„åœå…§åŒæ™‚è™•ç†å‡ç‰ˆã€åŠŸèƒ½éŠœæ¥èˆ‡ç”¢å‡ºæ–‡ç« é€™ä¸‰å€‹ä»»å‹™ï¼Œå› æ­¤å‡ç´šè¨ˆç•«åªèƒ½å…ˆæ“±ç½®ã€‚

> éµäººè³½æœƒç›¡é‡é¿é–‹ astro 2.0 å°ˆå±¬çš„å…§å®¹ï¼Œä½†æ•´é«”æ–‡ç« é‚„æ˜¯æœƒä»¥å€‹äººä½¿ç”¨ astro 2.0 é–‹ç™¼çš„å¿ƒå¾—åˆ†äº«ç‚ºä¸»ï¼Œé‚„è«‹åŒ…å®¹ã€‚

é‚£éº½ï¼Œå¦‚æœä¸Šæ–¹è¡Œå‰èªªæ˜æ²’æœ‰å‹¸é€€ä½ çš„è©±ï¼Œä»¥ä¸‹å°±ä¾†é–‹å§‹éµäººè³½ä¸‹åŠå ´ astro ç¯‡çš„ç¬¬ä¸€å¤©å…§å®¹ï¼šå°ˆæ¡ˆå»ºç«‹èˆ‡è³‡æ–™å¤¾çµæ§‹ã€‚

## æœ¬æ–‡

### å°ˆæ¡ˆå»ºç«‹

é–‹å•Ÿçµ‚ç«¯ï¼Œç§»å‹•åˆ°æƒ³æ”¾ç½® astro å°ˆæ¡ˆçš„ç›®çš„åœ°ï¼Œè¼¸å…¥ `npm run dev` æˆ– `yarn run dev` å¾Œå³å¯é–‹å§‹å®‰è£ç¨‹åºã€‚åœ¨å»ºç«‹å°ˆæ¡ˆçš„éç¨‹ä¸­ï¼Œastro æœƒè©¢å•é–‹ç™¼è€…å°ˆæ¡ˆè¦æ”¾åœ¨å“ªè£¡ï¼ˆé€™æ™‚å€™æ‰éœ€è¦æŒ‡å®šè³‡æ–™å¤¾åç¨±ï¼‰ã€æ˜¯å¦éœ€è¦é †ä¾¿åœ¨è³‡æ–™å¤¾å…§å¹«ä½ å»ºç«‹ä¸€äº›åŸºæœ¬å…§å®¹ã€æ˜¯å¦éœ€è¦æ­é… TypeScript ä»¥åŠå¹«å¿™ git init ç­‰ç­‰ã€‚é€™äº›é¸é …è«‹æ ¹æ“šå¹³å¸¸çš„é–‹ç™¼ç¿’æ…£ä¾†è¨­å®šå³å¯ã€‚

### scripts

astro å°ˆæ¡ˆé è¨­æä¾›ä»¥ä¸‹è…³æœ¬ï¼š

- `dev` / `start`: å•Ÿå‹•æœ¬æ©Ÿä¼ºæœå™¨é è¦½å°ˆæ¡ˆå…§å®¹ã€‚2.0 ç‰ˆé è¨­ port ç‚º `3000`ï¼Œ3.0 ç‰ˆæ”¹ç‚º `4321`
- `build`: æ‰“åŒ…å°ˆæ¡ˆï¼Œé è¨­çš„æ‰“åŒ…ç›®çš„åœ°ç‚º `./dist`
- `preview`: é è¦½æ‰“åŒ…å¾Œï¼ˆä½æ–¼ `./dist`ï¼‰çš„çµæœ
- `astro`: å‘¼å«å¾Œå¯æ–¼çµ‚ç«¯æŸ¥çœ‹æŒ‡ä»¤èªªæ˜ï¼Œå¦‚ä¸‹åœ–

![astro cli](/2023/ithome-2023-18/astro-cli.png)

### è³‡æ–™å¤¾çµæ§‹

åœ¨å»ºç«‹å°ˆæ¡ˆæ™‚è¨­å®š `How would you like to start your new project?` ç‚º `Empty` çš„è©±ï¼Œå°±å¯ä»¥çœ‹åˆ°è¿‘ä¹æœ€åŸºç¤çš„ astro è³‡æ–™å¤¾å…§å®¹ï¼š

```bash
.
â”œâ”€â”€ README.md
â”œâ”€â”€ astro.config.mjs
â”œâ”€â”€ package.json
â”œâ”€â”€ public
â”‚   â””â”€â”€ favicon.svg
â”œâ”€â”€ src
â”‚   â”œâ”€â”€ env.d.ts
â”‚   â””â”€â”€ pages
â”‚       â””â”€â”€ index.astro
â”œâ”€â”€ tsconfig.json
â””â”€â”€ yarn.lock
```

é‡é»ï¼š**`./src` ä¸­ä¸€å®šè¦æœ‰ `/pages` è³‡æ–™å¤¾**ï¼Œå¦å‰‡ [astro ç„¡æ³•é¡¯ç¤ºå…§å®¹](https://docs.astro.build/en/core-concepts/project-structure/#srcpages)ã€‚å…¶é¤˜åœ¨ `./src` å…§çš„è³‡æ–™å¤¾éƒ½å¯æ ¹æ“šå¯¦éš›åˆ†é¡è¦å‰‡ä¾†å¢æ¸›ï¼ˆå¦‚ `layout` / `components` ç­‰ï¼‰ã€‚

è€Œæ”¾åœ¨ `./public` ä¸­çš„å…§å®¹æœƒåœ¨æ‰“åŒ…ï¼ˆ`build`ï¼‰æ™‚ï¼Œç›´æ¥è¢«[è¤‡è£½ä¸€ä»½](https://docs.astro.build/en/core-concepts/project-structure/#public)åˆ°æœ€å¾Œè¼¸å‡ºçš„è³‡æ–™å¤¾ï¼ˆ`dist`ï¼‰å…§ã€‚åŸºæœ¬ä¸Šåœ–ç‰‡æª”ã€ä»¥åŠ sitemap èˆ‡ robot.txt ç­‰å…§å®¹æœƒè¢«æ”¶ç´åœ¨é€™è£¡ã€‚

å»ºç«‹ç•«é¢èˆ‡å…§å®¹è®€å–éƒ½æ˜¯åœ¨ `./src` å…§è™•ç†çš„äº‹æƒ…ã€‚é€™äº›å·¥ä½œæœƒæ–¼å¾ŒçºŒçš„éµäººè³½æ–‡ç« æåŠã€‚

---

è€Œä»¥ä¸‹æ˜¯å€‹äººæŠ€è¡“éƒ¨è½æ ¼å¯¦éš›ä½¿ç”¨çš„çµæ§‹ã€‚å…¶å¯¦ä¹Ÿåªæ˜¯åœ¨å®˜æ–¹æ¨è–¦çš„ `components` / `styles` ä»¥å¤–å†æ–°å¢å…©å€‹è³‡æ–™å¤¾ä¾†æ”¶ç´å‹åˆ¥ã€å›ºå®šè®Šæ•¸ä»¥åŠé€šç”¨å·¥å…·è€Œå·²ï¼š

```bash
.
â”œâ”€â”€ public
â”œâ”€â”€ src
â”‚   â”œâ”€â”€ env.d.ts
â”‚   â”œâ”€â”€ components
â”‚   â”œâ”€â”€ models
â”‚   â”œâ”€â”€ pages
â”‚   â”œâ”€â”€ styles
â”‚   â””â”€â”€ tools
â”œâ”€â”€ .gitignore
â”œâ”€â”€ .markdownlint.jsonc
â”œâ”€â”€ .nvmrc
â”œâ”€â”€ astro.config.ts
â”œâ”€â”€ Makefile
â”œâ”€â”€ package.json
â”œâ”€â”€ README.md
â”œâ”€â”€ tsconfig.json
â””â”€â”€ yarn.lock
```

astro åœ¨è³‡æ–™å¤¾åç¨±èˆ‡çµæ§‹ä¸Šæ²’æœ‰å¤ªå¤šé™åˆ¶ï¼Œè¦æ³¨æ„çš„åªæœ‰ä¿ç•™ `./src/pages` ä»¥åŠä½¿ç”¨ä¸­æ‹¬è™Ÿ `[]` å‘½åçš„æª”æ¡ˆæœ‰[ç‰¹æ®Šç”¨é€”](https://docs.astro.build/en/core-concepts/routing/#dynamic-routes)ã€‚å…¶ä»–éƒ½å¯ä»¥æ ¹æ“šé–‹ç™¼ç¿’æ…£ä¾†è‡ªç”±å®‰æ’ã€‚

### tsconfig.json

æ”¯æ´ `paths` è¨­å®šï¼Œå¯ä»¥ç¹¼çºŒåœ¨ astro å°ˆæ¡ˆä¸­ä½¿ç”¨è‡ªè¨‚è·¯å¾‘ä¾†åŒ¯å…¥æª”æ¡ˆï¼š

```json
{
  "extends": "astro/tsconfigs/strict",
  "compilerOptions": {
    "baseUrl": "./src",
    "paths": {
      "@Components/*": ["components/*"],
      "@Models/*": ["models/*"],
      "@Pages/*": ["pages/*"],
      "@Styles/*": ["styles/*"],
      "@Tools/*": ["tools/*"]
    }
  }
}
```

æ¯”å¦‚ç¾åœ¨æˆ‘å°±å¯ä»¥ä½¿ç”¨ `@Components/pages/SinglePostLayout.astro` é€™å€‹è·¯å¾‘åœ¨ astro å°ˆæ¡ˆä¸­å„è™•åŒ¯å…¥å¯¦éš›ä¸Šä½æ–¼ `./src/components/pages` ä¸­çš„ astro å…ƒä»¶ `SinglePostLayout`ã€‚

---

æƒ³æŸ¥çœ‹ astro å®Œæ•´ TypeScript è¨­å®šçš„äººå¯ä»¥åˆ°å®˜æ–¹ repo ä¸­çš„ [astro/packages/astro/tsconfigs](https://github.com/withastro/astro/tree/main/packages/astro/tsconfigs) æŸ¥çœ‹è©³ç´°å…§å®¹ã€‚

## ç¸½çµ

å€‹äººæ˜¯å¾ hexo è·³æ§½åˆ° astro çš„ï¼Œæ•´åŒ…å°ˆæ¡ˆç¿»ä¿®å®Œç•¢å¾Œï¼ŒåŸºæœ¬åªæœ‰å¾Œæ‚”æ²’æœ‰æ—©é»é–‹å§‹ã€‚æ¡†æ¶æœ¬èº«çš„ä½¿ç”¨é›£åº¦ä¸é«˜ï¼Œï¼ˆè‹±æ–‡ï¼‰è³‡æºä¹Ÿç®—å……è¶³ï¼ŒçœŸå¿ƒæ¨è–¦é‚„æ²’æœ‰è‡ªå·±çš„ blog çš„äººå¯ä»¥å»ºç«‹ä¸€å€‹ astro å°ˆæ¡ˆä¾†è©¦ç©çœ‹çœ‹ã€‚

## åƒè€ƒ

- [astro docs: Install Astro with the Automatic CLI](https://docs.astro.build/en/install/auto/)
- [astro docs: Project Structure](https://docs.astro.build/en/core-concepts/project-structure/)
- [astro docs: CLI Commands](https://docs.astro.build/en/reference/cli-reference/)
